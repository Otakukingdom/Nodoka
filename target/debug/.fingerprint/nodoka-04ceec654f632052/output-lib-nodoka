{"$message_type":"diagnostic","message":"called `map(<f>).unwrap_or_else(<g>)` on a `Result` value","code":{"code":"clippy::map_unwrap_or","explanation":null},"level":"error","spans":[{"file_name":"src/db/queries.rs","byte_start":6529,"byte_end":6661,"line_start":204,"line_end":206,"column_start":26,"column_end":44,"is_primary":true,"text":[{"text":"        let created_at = DateTime::parse_from_rfc3339(&created_str)","highlight_start":26,"highlight_end":68},{"text":"            .map(|dt| dt.with_timezone(&Utc))","highlight_start":1,"highlight_end":46},{"text":"            .unwrap_or_else(|_| Utc::now());","highlight_start":1,"highlight_end":44}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#map_unwrap_or","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"`-D clippy::map-unwrap-or` implied by `-D warnings`","code":null,"level":"note","spans":[],"children":[],"rendered":null},{"message":"to override `-D warnings` add `#[allow(clippy::map_unwrap_or)]`","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"try","code":null,"level":"help","spans":[{"file_name":"src/db/queries.rs","byte_start":6529,"byte_end":6661,"line_start":204,"line_end":206,"column_start":26,"column_end":44,"is_primary":true,"text":[{"text":"        let created_at = DateTime::parse_from_rfc3339(&created_str)","highlight_start":26,"highlight_end":68},{"text":"            .map(|dt| dt.with_timezone(&Utc))","highlight_start":1,"highlight_end":46},{"text":"            .unwrap_or_else(|_| Utc::now());","highlight_start":1,"highlight_end":44}],"label":null,"suggested_replacement":"DateTime::parse_from_rfc3339(&created_str).map_or_else(|_| Utc::now(), |dt| dt.with_timezone(&Utc))","suggestion_applicability":"MachineApplicable","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[0m\u001b[1m\u001b[38;5;9merror\u001b[0m\u001b[0m\u001b[1m: called `map(<f>).unwrap_or_else(<g>)` on a `Result` value\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0msrc/db/queries.rs:204:26\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m204\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m   \u001b[0m\u001b[0m        let created_at = DateTime::parse_from_rfc3339(&created_str)\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m__________________________^\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m205\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m            .map(|dt| dt.with_timezone(&Utc))\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m206\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m            .unwrap_or_else(|_| Utc::now());\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m|___________________________________________^\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9mhelp: try: `DateTime::parse_from_rfc3339(&created_str).map_or_else(|_| Utc::now(), |dt| dt.with_timezone(&Utc))`\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#map_unwrap_or\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mnote\u001b[0m\u001b[0m: `-D clippy::map-unwrap-or` implied by `-D warnings`\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: to override `-D warnings` add `#[allow(clippy::map_unwrap_or)]`\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"called `map(<f>).unwrap_or_else(<g>)` on a `Result` value","code":{"code":"clippy::map_unwrap_or","explanation":null},"level":"error","spans":[{"file_name":"src/db/queries.rs","byte_start":8583,"byte_end":8715,"line_start":274,"line_end":276,"column_start":26,"column_end":44,"is_primary":true,"text":[{"text":"        let created_at = DateTime::parse_from_rfc3339(&created_str)","highlight_start":26,"highlight_end":68},{"text":"            .map(|dt| dt.with_timezone(&Utc))","highlight_start":1,"highlight_end":46},{"text":"            .unwrap_or_else(|_| Utc::now());","highlight_start":1,"highlight_end":44}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#map_unwrap_or","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"try","code":null,"level":"help","spans":[{"file_name":"src/db/queries.rs","byte_start":8583,"byte_end":8715,"line_start":274,"line_end":276,"column_start":26,"column_end":44,"is_primary":true,"text":[{"text":"        let created_at = DateTime::parse_from_rfc3339(&created_str)","highlight_start":26,"highlight_end":68},{"text":"            .map(|dt| dt.with_timezone(&Utc))","highlight_start":1,"highlight_end":46},{"text":"            .unwrap_or_else(|_| Utc::now());","highlight_start":1,"highlight_end":44}],"label":null,"suggested_replacement":"DateTime::parse_from_rfc3339(&created_str).map_or_else(|_| Utc::now(), |dt| dt.with_timezone(&Utc))","suggestion_applicability":"MachineApplicable","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[0m\u001b[1m\u001b[38;5;9merror\u001b[0m\u001b[0m\u001b[1m: called `map(<f>).unwrap_or_else(<g>)` on a `Result` value\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0msrc/db/queries.rs:274:26\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m274\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m   \u001b[0m\u001b[0m        let created_at = DateTime::parse_from_rfc3339(&created_str)\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m__________________________^\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m275\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m            .map(|dt| dt.with_timezone(&Utc))\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m276\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m            .unwrap_or_else(|_| Utc::now());\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m|___________________________________________^\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9mhelp: try: `DateTime::parse_from_rfc3339(&created_str).map_or_else(|_| Utc::now(), |dt| dt.with_timezone(&Utc))`\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#map_unwrap_or\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"called `map(<f>).unwrap_or_else(<g>)` on a `Result` value","code":{"code":"clippy::map_unwrap_or","explanation":null},"level":"error","spans":[{"file_name":"src/db/queries.rs","byte_start":12757,"byte_end":12897,"line_start":408,"line_end":410,"column_start":30,"column_end":48,"is_primary":true,"text":[{"text":"            let created_at = DateTime::parse_from_rfc3339(&created_str)","highlight_start":30,"highlight_end":72},{"text":"                .map(|dt| dt.with_timezone(&Utc))","highlight_start":1,"highlight_end":50},{"text":"                .unwrap_or_else(|_| Utc::now());","highlight_start":1,"highlight_end":48}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#map_unwrap_or","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"try","code":null,"level":"help","spans":[{"file_name":"src/db/queries.rs","byte_start":12757,"byte_end":12897,"line_start":408,"line_end":410,"column_start":30,"column_end":48,"is_primary":true,"text":[{"text":"            let created_at = DateTime::parse_from_rfc3339(&created_str)","highlight_start":30,"highlight_end":72},{"text":"                .map(|dt| dt.with_timezone(&Utc))","highlight_start":1,"highlight_end":50},{"text":"                .unwrap_or_else(|_| Utc::now());","highlight_start":1,"highlight_end":48}],"label":null,"suggested_replacement":"DateTime::parse_from_rfc3339(&created_str).map_or_else(|_| Utc::now(), |dt| dt.with_timezone(&Utc))","suggestion_applicability":"MachineApplicable","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[0m\u001b[1m\u001b[38;5;9merror\u001b[0m\u001b[0m\u001b[1m: called `map(<f>).unwrap_or_else(<g>)` on a `Result` value\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0msrc/db/queries.rs:408:30\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m408\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m   \u001b[0m\u001b[0m            let created_at = DateTime::parse_from_rfc3339(&created_str)\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m______________________________^\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m409\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m                .map(|dt| dt.with_timezone(&Utc))\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m410\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m                .unwrap_or_else(|_| Utc::now());\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m|_______________________________________________^\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9mhelp: try: `DateTime::parse_from_rfc3339(&created_str).map_or_else(|_| Utc::now(), |dt| dt.with_timezone(&Utc))`\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#map_unwrap_or\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"casting `i64` to `i32` may truncate the value","code":{"code":"clippy::cast_possible_truncation","explanation":null},"level":"error","spans":[{"file_name":"src/models/audiobook_file.rs","byte_start":1532,"byte_end":1549,"line_start":52,"line_end":52,"column_start":21,"column_end":38,"is_primary":true,"text":[{"text":"                    percentage as i32","highlight_start":21,"highlight_end":38}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_possible_truncation","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"`-D clippy::cast-possible-truncation` implied by `-D warnings`","code":null,"level":"note","spans":[],"children":[],"rendered":null},{"message":"to override `-D warnings` add `#[allow(clippy::cast_possible_truncation)]`","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"... or use `try_from` and handle the error accordingly","code":null,"level":"help","spans":[{"file_name":"src/models/audiobook_file.rs","byte_start":1532,"byte_end":1549,"line_start":52,"line_end":52,"column_start":21,"column_end":38,"is_primary":true,"text":[{"text":"                    percentage as i32","highlight_start":21,"highlight_end":38}],"label":null,"suggested_replacement":"i32::try_from(percentage)","suggestion_applicability":"Unspecified","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[0m\u001b[1m\u001b[38;5;9merror\u001b[0m\u001b[0m\u001b[1m: casting `i64` to `i32` may truncate the value\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0msrc/models/audiobook_file.rs:52:21\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m52\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m                    percentage as i32\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m                     \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m^^^^^^^^^^^^^^^^^\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_possible_truncation\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mnote\u001b[0m\u001b[0m: `-D clippy::cast-possible-truncation` implied by `-D warnings`\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: to override `-D warnings` add `#[allow(clippy::cast_possible_truncation)]`\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;14mhelp\u001b[0m\u001b[0m: ... or use `try_from` and handle the error accordingly\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m52\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m| \u001b[0m\u001b[0m                    \u001b[0m\u001b[0m\u001b[38;5;10mi32::try_from(percentage)\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"consider using an `AtomicI32` instead of a `Mutex` here; if you just want the locking behavior and not the internal type, consider using `Mutex<()>`","code":{"code":"clippy::mutex_integer","explanation":null},"level":"error","spans":[{"file_name":"src/player/concrete_player.rs","byte_start":1172,"byte_end":1187,"line_start":36,"line_end":36,"column_start":30,"column_end":45,"is_primary":true,"text":[{"text":"            volume: Arc::new(Mutex::new(100)),","highlight_start":30,"highlight_end":45}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#mutex_integer","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"`-D clippy::mutex-integer` implied by `-D warnings`","code":null,"level":"note","spans":[],"children":[],"rendered":null},{"message":"to override `-D warnings` add `#[allow(clippy::mutex_integer)]`","code":null,"level":"help","spans":[],"children":[],"rendered":null}],"rendered":"\u001b[0m\u001b[1m\u001b[38;5;9merror\u001b[0m\u001b[0m\u001b[1m: consider using an `AtomicI32` instead of a `Mutex` here; if you just want the locking behavior and not the internal type, consider using `Mutex<()>`\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0msrc/player/concrete_player.rs:36:30\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m36\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m            volume: Arc::new(Mutex::new(100)),\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m                              \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m^^^^^^^^^^^^^^^\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#mutex_integer\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mnote\u001b[0m\u001b[0m: `-D clippy::mutex-integer` implied by `-D warnings`\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: to override `-D warnings` add `#[allow(clippy::mutex_integer)]`\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"matching over `()` is more explicit","code":{"code":"clippy::ignored_unit_patterns","explanation":null},"level":"error","spans":[{"file_name":"src/player/concrete_player.rs","byte_start":2920,"byte_end":2921,"line_start":101,"line_end":101,"column_start":23,"column_end":24,"is_primary":true,"text":[{"text":"            .map_err(|_| NodokaError::Vlc(\"Failed to set volume\".to_string()))?;","highlight_start":23,"highlight_end":24}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#ignored_unit_patterns","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"`-D clippy::ignored-unit-patterns` implied by `-D warnings`","code":null,"level":"note","spans":[],"children":[],"rendered":null},{"message":"to override `-D warnings` add `#[allow(clippy::ignored_unit_patterns)]`","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"use `()` instead of `_`","code":null,"level":"help","spans":[{"file_name":"src/player/concrete_player.rs","byte_start":2920,"byte_end":2921,"line_start":101,"line_end":101,"column_start":23,"column_end":24,"is_primary":true,"text":[{"text":"            .map_err(|_| NodokaError::Vlc(\"Failed to set volume\".to_string()))?;","highlight_start":23,"highlight_end":24}],"label":null,"suggested_replacement":"()","suggestion_applicability":"MachineApplicable","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[0m\u001b[1m\u001b[38;5;9merror\u001b[0m\u001b[0m\u001b[1m: matching over `()` is more explicit\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0msrc/player/concrete_player.rs:101:23\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m101\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m            .map_err(|_| NodokaError::Vlc(\"Failed to set volume\".to_string()))?;\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m                       \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m^\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9mhelp: use `()` instead of `_`: `()`\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#ignored_unit_patterns\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mnote\u001b[0m\u001b[0m: `-D clippy::ignored-unit-patterns` implied by `-D warnings`\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: to override `-D warnings` add `#[allow(clippy::ignored_unit_patterns)]`\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"matching over `()` is more explicit","code":{"code":"clippy::ignored_unit_patterns","explanation":null},"level":"error","spans":[{"file_name":"src/player/concrete_player.rs","byte_start":3339,"byte_end":3340,"line_start":116,"line_end":116,"column_start":23,"column_end":24,"is_primary":true,"text":[{"text":"            .map_err(|_| NodokaError::Vlc(\"Failed to set rate\".to_string()))?;","highlight_start":23,"highlight_end":24}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#ignored_unit_patterns","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"use `()` instead of `_`","code":null,"level":"help","spans":[{"file_name":"src/player/concrete_player.rs","byte_start":3339,"byte_end":3340,"line_start":116,"line_end":116,"column_start":23,"column_end":24,"is_primary":true,"text":[{"text":"            .map_err(|_| NodokaError::Vlc(\"Failed to set rate\".to_string()))?;","highlight_start":23,"highlight_end":24}],"label":null,"suggested_replacement":"()","suggestion_applicability":"MachineApplicable","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[0m\u001b[1m\u001b[38;5;9merror\u001b[0m\u001b[0m\u001b[1m: matching over `()` is more explicit\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0msrc/player/concrete_player.rs:116:23\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m116\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m            .map_err(|_| NodokaError::Vlc(\"Failed to set rate\".to_string()))?;\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m                       \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m^\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9mhelp: use `()` instead of `_`: `()`\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#ignored_unit_patterns\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"use Option::map_or_else instead of an if let/else","code":{"code":"clippy::option_if_let_else","explanation":null},"level":"error","spans":[{"file_name":"src/player/concrete_player.rs","byte_start":4105,"byte_end":4393,"line_start":145,"line_end":154,"column_start":9,"column_end":10,"is_primary":true,"text":[{"text":"        if let Some(media) = self.player.get_media() {","highlight_start":9,"highlight_end":55},{"text":"            // Parse media to get duration","highlight_start":1,"highlight_end":43},{"text":"            media.parse();","highlight_start":1,"highlight_end":27},{"text":"","highlight_start":1,"highlight_end":1},{"text":"            // Duration is in milliseconds","highlight_start":1,"highlight_end":43},{"text":"            let duration = media.duration().unwrap_or(0);","highlight_start":1,"highlight_end":58},{"text":"            Ok(duration)","highlight_start":1,"highlight_end":25},{"text":"        } else {","highlight_start":1,"highlight_end":17},{"text":"            Ok(0)","highlight_start":1,"highlight_end":18},{"text":"        }","highlight_start":1,"highlight_end":10}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#option_if_let_else","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"`-D clippy::option-if-let-else` implied by `-D warnings`","code":null,"level":"note","spans":[],"children":[],"rendered":null},{"message":"to override `-D warnings` add `#[allow(clippy::option_if_let_else)]`","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"try","code":null,"level":"help","spans":[{"file_name":"src/player/concrete_player.rs","byte_start":4105,"byte_end":4393,"line_start":145,"line_end":154,"column_start":9,"column_end":10,"is_primary":true,"text":[{"text":"        if let Some(media) = self.player.get_media() {","highlight_start":9,"highlight_end":55},{"text":"            // Parse media to get duration","highlight_start":1,"highlight_end":43},{"text":"            media.parse();","highlight_start":1,"highlight_end":27},{"text":"","highlight_start":1,"highlight_end":1},{"text":"            // Duration is in milliseconds","highlight_start":1,"highlight_end":43},{"text":"            let duration = media.duration().unwrap_or(0);","highlight_start":1,"highlight_end":58},{"text":"            Ok(duration)","highlight_start":1,"highlight_end":25},{"text":"        } else {","highlight_start":1,"highlight_end":17},{"text":"            Ok(0)","highlight_start":1,"highlight_end":18},{"text":"        }","highlight_start":1,"highlight_end":10}],"label":null,"suggested_replacement":"self.player.get_media().map_or_else(|| Ok(0), |media| {\n            // Parse media to get duration\n            media.parse();\n\n            // Duration is in milliseconds\n            let duration = media.duration().unwrap_or(0);\n            Ok(duration)\n        })","suggestion_applicability":"MaybeIncorrect","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[0m\u001b[1m\u001b[38;5;9merror\u001b[0m\u001b[0m\u001b[1m: use Option::map_or_else instead of an if let/else\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0msrc/player/concrete_player.rs:145:9\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m145\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m/\u001b[0m\u001b[0m \u001b[0m\u001b[0m        if let Some(media) = self.player.get_media() {\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m146\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m            // Parse media to get duration\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m147\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m            media.parse();\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m...\u001b[0m\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m153\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m            Ok(0)\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m154\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m        }\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m|_________^\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#option_if_let_else\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mnote\u001b[0m\u001b[0m: `-D clippy::option-if-let-else` implied by `-D warnings`\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: to override `-D warnings` add `#[allow(clippy::option_if_let_else)]`\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;14mhelp\u001b[0m\u001b[0m: try\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m145\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[38;5;10m~ \u001b[0m\u001b[0m        \u001b[0m\u001b[0m\u001b[38;5;10mself.player.get_media().map_or_else(|| Ok(0), |media| {\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m146\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[38;5;10m+             // Parse media to get duration\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m147\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[38;5;10m+             media.parse();\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m148\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[38;5;10m+ \u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m149\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[38;5;10m+             // Duration is in milliseconds\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m150\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[38;5;10m+             let duration = media.duration().unwrap_or(0);\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m151\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[38;5;10m+             Ok(duration)\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m152\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[38;5;10m+         })\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"this could be a `const fn`","code":{"code":"clippy::missing_const_for_fn","explanation":null},"level":"error","spans":[{"file_name":"src/player/concrete_player.rs","byte_start":5207,"byte_end":5676,"line_start":189,"line_end":200,"column_start":1,"column_end":2,"is_primary":true,"text":[{"text":"fn convert_vlc_state(state: State) -> PlayerState {","highlight_start":1,"highlight_end":52},{"text":"    match state {","highlight_start":1,"highlight_end":18},{"text":"        State::NothingSpecial => PlayerState::NothingSpecial,","highlight_start":1,"highlight_end":62},{"text":"        State::Opening => PlayerState::Opening,","highlight_start":1,"highlight_end":48},{"text":"        State::Buffering => PlayerState::Buffering,","highlight_start":1,"highlight_end":52},{"text":"        State::Playing => PlayerState::Playing,","highlight_start":1,"highlight_end":48},{"text":"        State::Paused => PlayerState::Paused,","highlight_start":1,"highlight_end":46},{"text":"        State::Stopped => PlayerState::Stopped,","highlight_start":1,"highlight_end":48},{"text":"        State::Ended => PlayerState::Ended,","highlight_start":1,"highlight_end":44},{"text":"        State::Error => PlayerState::Error,","highlight_start":1,"highlight_end":44},{"text":"    }","highlight_start":1,"highlight_end":6},{"text":"}","highlight_start":1,"highlight_end":2}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_const_for_fn","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"`-D clippy::missing-const-for-fn` implied by `-D warnings`","code":null,"level":"note","spans":[],"children":[],"rendered":null},{"message":"to override `-D warnings` add `#[allow(clippy::missing_const_for_fn)]`","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"make the function `const`","code":null,"level":"help","spans":[{"file_name":"src/player/concrete_player.rs","byte_start":5207,"byte_end":5207,"line_start":189,"line_end":189,"column_start":1,"column_end":1,"is_primary":true,"text":[{"text":"fn convert_vlc_state(state: State) -> PlayerState {","highlight_start":1,"highlight_end":1}],"label":null,"suggested_replacement":"const ","suggestion_applicability":"MachineApplicable","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[0m\u001b[1m\u001b[38;5;9merror\u001b[0m\u001b[0m\u001b[1m: this could be a `const fn`\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0msrc/player/concrete_player.rs:189:1\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m189\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m/\u001b[0m\u001b[0m \u001b[0m\u001b[0mfn convert_vlc_state(state: State) -> PlayerState {\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m190\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m    match state {\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m191\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m        State::NothingSpecial => PlayerState::NothingSpecial,\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m192\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m        State::Opening => PlayerState::Opening,\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m...\u001b[0m\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m199\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m    }\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m200\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m}\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m|_^\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_const_for_fn\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mnote\u001b[0m\u001b[0m: `-D clippy::missing-const-for-fn` implied by `-D warnings`\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: to override `-D warnings` add `#[allow(clippy::missing_const_for_fn)]`\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;14mhelp\u001b[0m\u001b[0m: make the function `const`\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m189\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m| \u001b[0m\u001b[0m\u001b[38;5;10mconst \u001b[0m\u001b[0mfn convert_vlc_state(state: State) -> PlayerState {\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[38;5;10m+++++\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"docs for function returning `Result` missing `# Errors` section","code":{"code":"clippy::missing_errors_doc","explanation":null},"level":"error","spans":[{"file_name":"src/proxy/audiobook_proxy.rs","byte_start":338,"byte_end":405,"line_start":15,"line_end":15,"column_start":5,"column_end":72,"is_primary":true,"text":[{"text":"    pub fn new(id: i64, db: Arc<Database>) -> Result<Self, NodokaError> {","highlight_start":5,"highlight_end":72}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_errors_doc","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"requested on the command line with `-D clippy::missing-errors-doc`","code":null,"level":"note","spans":[],"children":[],"rendered":null}],"rendered":"\u001b[0m\u001b[1m\u001b[38;5;9merror\u001b[0m\u001b[0m\u001b[1m: docs for function returning `Result` missing `# Errors` section\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0msrc/proxy/audiobook_proxy.rs:15:5\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m15\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m    pub fn new(id: i64, db: Arc<Database>) -> Result<Self, NodokaError> {\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m     \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_errors_doc\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mnote\u001b[0m\u001b[0m: requested on the command line with `-D clippy::missing-errors-doc`\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"usage of an `Arc` that is not `Send` and `Sync`","code":{"code":"clippy::arc_with_non_send_sync","explanation":null},"level":"error","spans":[{"file_name":"src/proxy/audiobook_proxy.rs","byte_start":661,"byte_end":688,"line_start":22,"line_end":22,"column_start":26,"column_end":53,"is_primary":true,"text":[{"text":"            files_cache: Arc::new(RwLock::new(None)),","highlight_start":26,"highlight_end":53}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"`Arc<RwLock<Option<Vec<AudiobookFileProxy>>>>` is not `Send` and `Sync` as `RwLock<Option<Vec<AudiobookFileProxy>>>` is neither `Send` nor `Sync`","code":null,"level":"note","spans":[],"children":[],"rendered":null},{"message":"if the `Arc` will not used be across threads replace it with an `Rc`","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"otherwise make `RwLock<Option<Vec<AudiobookFileProxy>>>` `Send` and `Sync` or consider a wrapper type such as `Mutex`","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#arc_with_non_send_sync","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"`-D clippy::arc-with-non-send-sync` implied by `-D clippy::all`","code":null,"level":"note","spans":[],"children":[],"rendered":null},{"message":"to override `-D clippy::all` add `#[allow(clippy::arc_with_non_send_sync)]`","code":null,"level":"help","spans":[],"children":[],"rendered":null}],"rendered":"\u001b[0m\u001b[1m\u001b[38;5;9merror\u001b[0m\u001b[0m\u001b[1m: usage of an `Arc` that is not `Send` and `Sync`\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0msrc/proxy/audiobook_proxy.rs:22:26\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m22\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m            files_cache: Arc::new(RwLock::new(None)),\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m                          \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mnote\u001b[0m\u001b[0m: `Arc<RwLock<Option<Vec<AudiobookFileProxy>>>>` is not `Send` and `Sync` as `RwLock<Option<Vec<AudiobookFileProxy>>>` is neither `Send` nor `Sync`\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: if the `Arc` will not used be across threads replace it with an `Rc`\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: otherwise make `RwLock<Option<Vec<AudiobookFileProxy>>>` `Send` and `Sync` or consider a wrapper type such as `Mutex`\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#arc_with_non_send_sync\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mnote\u001b[0m\u001b[0m: `-D clippy::arc-with-non-send-sync` implied by `-D clippy::all`\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: to override `-D clippy::all` add `#[allow(clippy::arc_with_non_send_sync)]`\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"docs for function returning `Result` missing `# Errors` section","code":{"code":"clippy::missing_errors_doc","explanation":null},"level":"error","spans":[{"file_name":"src/proxy/audiobook_proxy.rs","byte_start":728,"byte_end":799,"line_start":27,"line_end":27,"column_start":5,"column_end":76,"is_primary":true,"text":[{"text":"    pub fn get_files(&self) -> Result<Vec<AudiobookFileProxy>, NodokaError> {","highlight_start":5,"highlight_end":76}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_errors_doc","code":null,"level":"help","spans":[],"children":[],"rendered":null}],"rendered":"\u001b[0m\u001b[1m\u001b[38;5;9merror\u001b[0m\u001b[0m\u001b[1m: docs for function returning `Result` missing `# Errors` section\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0msrc/proxy/audiobook_proxy.rs:27:5\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m27\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m    pub fn get_files(&self) -> Result<Vec<AudiobookFileProxy>, NodokaError> {\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m     \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_errors_doc\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"temporary with significant `Drop` can be early dropped","code":{"code":"clippy::significant_drop_tightening","explanation":null},"level":"error","spans":[{"file_name":"src/proxy/audiobook_proxy.rs","byte_start":800,"byte_end":1513,"line_start":27,"line_end":53,"column_start":77,"column_end":6,"is_primary":false,"text":[{"text":"    pub fn get_files(&self) -> Result<Vec<AudiobookFileProxy>, NodokaError> {","highlight_start":77,"highlight_end":78},{"text":"        let cache = self","highlight_start":1,"highlight_end":25},{"text":"            .files_cache","highlight_start":1,"highlight_end":25},{"text":"            .read()","highlight_start":1,"highlight_end":20},{"text":"            .map_err(|_| NodokaError::LockError)?;","highlight_start":1,"highlight_end":51},{"text":"","highlight_start":1,"highlight_end":1},{"text":"        if let Some(files) = cache.as_ref() {","highlight_start":1,"highlight_end":46},{"text":"            return Ok(files.clone());","highlight_start":1,"highlight_end":38},{"text":"        }","highlight_start":1,"highlight_end":10},{"text":"","highlight_start":1,"highlight_end":1},{"text":"        drop(cache);","highlight_start":1,"highlight_end":21},{"text":"","highlight_start":1,"highlight_end":1},{"text":"        // Load from database","highlight_start":1,"highlight_end":30},{"text":"        let files = crate::db::queries::get_audiobook_files(self.db.connection(), self.id)?;","highlight_start":1,"highlight_end":93},{"text":"        let proxies: Vec<_> = files","highlight_start":1,"highlight_end":36},{"text":"            .into_iter()","highlight_start":1,"highlight_end":25},{"text":"            .map(|f| AudiobookFileProxy::new(f, Arc::clone(&self.db)))","highlight_start":1,"highlight_end":71},{"text":"            .collect();","highlight_start":1,"highlight_end":24},{"text":"","highlight_start":1,"highlight_end":1},{"text":"        let mut cache = self","highlight_start":1,"highlight_end":29},{"text":"            .files_cache","highlight_start":1,"highlight_end":25},{"text":"            .write()","highlight_start":1,"highlight_end":21},{"text":"            .map_err(|_| NodokaError::LockError)?;","highlight_start":1,"highlight_end":51},{"text":"        *cache = Some(proxies.clone());","highlight_start":1,"highlight_end":40},{"text":"","highlight_start":1,"highlight_end":1},{"text":"        Ok(proxies)","highlight_start":1,"highlight_end":20},{"text":"    }","highlight_start":1,"highlight_end":6}],"label":"temporary `cache` is currently being dropped at the end of its contained scope","suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"src/proxy/audiobook_proxy.rs","byte_start":1337,"byte_end":1342,"line_start":46,"line_end":46,"column_start":17,"column_end":22,"is_primary":true,"text":[{"text":"        let mut cache = self","highlight_start":17,"highlight_end":22}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"this might lead to unnecessary resource contention","code":null,"level":"note","spans":[],"children":[],"rendered":null},{"message":"for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#significant_drop_tightening","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"`-D clippy::significant-drop-tightening` implied by `-D warnings`","code":null,"level":"note","spans":[],"children":[],"rendered":null},{"message":"to override `-D warnings` add `#[allow(clippy::significant_drop_tightening)]`","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"merge the temporary construction with its single usage","code":null,"level":"help","spans":[{"file_name":"src/proxy/audiobook_proxy.rs","byte_start":1329,"byte_end":1446,"line_start":46,"line_end":49,"column_start":9,"column_end":51,"is_primary":true,"text":[{"text":"        let mut cache = self","highlight_start":9,"highlight_end":29},{"text":"            .files_cache","highlight_start":1,"highlight_end":25},{"text":"            .write()","highlight_start":1,"highlight_end":21},{"text":"            .map_err(|_| NodokaError::LockError)?;","highlight_start":1,"highlight_end":51}],"label":null,"suggested_replacement":"\n        self\n            .files_cache\n            .write()\n            .map_err(|_| NodokaError::LockError)?.;","suggestion_applicability":"MaybeIncorrect","expansion":null}],"children":[],"rendered":null},{"message":"remove separated single usage","code":null,"level":"help","spans":[{"file_name":"src/proxy/audiobook_proxy.rs","byte_start":1455,"byte_end":1486,"line_start":50,"line_end":50,"column_start":9,"column_end":40,"is_primary":true,"text":[{"text":"        *cache = Some(proxies.clone());","highlight_start":9,"highlight_end":40}],"label":null,"suggested_replacement":"","suggestion_applicability":"MaybeIncorrect","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[0m\u001b[1m\u001b[38;5;9merror\u001b[0m\u001b[0m\u001b[1m: temporary with significant `Drop` can be early dropped\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0msrc/proxy/audiobook_proxy.rs:46:17\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m27\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m   \u001b[0m\u001b[0m    pub fn get_files(&self) -> Result<Vec<AudiobookFileProxy>, NodokaError> {\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m_____________________________________________________________________________-\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m28\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m        let cache = self\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m29\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m            .files_cache\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m30\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m            .read()\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m...\u001b[0m\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m46\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m        let mut cache = self\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m                 \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m^^^^^\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m...\u001b[0m\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m52\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m        Ok(proxies)\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m53\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m    }\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|_____-\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12mtemporary `cache` is currently being dropped at the end of its contained scope\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mnote\u001b[0m\u001b[0m: this might lead to unnecessary resource contention\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#significant_drop_tightening\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mnote\u001b[0m\u001b[0m: `-D clippy::significant-drop-tightening` implied by `-D warnings`\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: to override `-D warnings` add `#[allow(clippy::significant_drop_tightening)]`\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;14mhelp\u001b[0m\u001b[0m: merge the temporary construction with its single usage\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m46\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[38;5;10m~ \u001b[0m\u001b[0m        \u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m47\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[38;5;10m+         self\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m48\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[38;5;10m+             .files_cache\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m49\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[38;5;10m+             .write()\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m50\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[38;5;10m+             .map_err(|_| NodokaError::LockError)?.;\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;14mhelp\u001b[0m\u001b[0m: remove separated single usage\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m50\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[38;5;9m- \u001b[0m\u001b[0m        *cache = Some(proxies.clone());\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"docs for function returning `Result` missing `# Errors` section","code":{"code":"clippy::missing_errors_doc","explanation":null},"level":"error","spans":[{"file_name":"src/proxy/audiobook_proxy.rs","byte_start":1519,"byte_end":1579,"line_start":55,"line_end":55,"column_start":5,"column_end":65,"is_primary":true,"text":[{"text":"    pub fn update_completeness(&self) -> Result<(), NodokaError> {","highlight_start":5,"highlight_end":65}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_errors_doc","code":null,"level":"help","spans":[],"children":[],"rendered":null}],"rendered":"\u001b[0m\u001b[1m\u001b[38;5;9merror\u001b[0m\u001b[0m\u001b[1m: docs for function returning `Result` missing `# Errors` section\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0msrc/proxy/audiobook_proxy.rs:55:5\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m55\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m    pub fn update_completeness(&self) -> Result<(), NodokaError> {\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m     \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_errors_doc\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"temporary with significant `Drop` can be early dropped","code":{"code":"clippy::significant_drop_tightening","explanation":null},"level":"error","spans":[{"file_name":"src/proxy/audiobook_proxy.rs","byte_start":1580,"byte_end":2071,"line_start":55,"line_end":69,"column_start":66,"column_end":6,"is_primary":false,"text":[{"text":"    pub fn update_completeness(&self) -> Result<(), NodokaError> {","highlight_start":66,"highlight_end":67},{"text":"        let files = self.get_files()?;","highlight_start":1,"highlight_end":39},{"text":"","highlight_start":1,"highlight_end":1},{"text":"        if files.is_empty() {","highlight_start":1,"highlight_end":30},{"text":"            return Ok(());","highlight_start":1,"highlight_end":27},{"text":"        }","highlight_start":1,"highlight_end":10},{"text":"","highlight_start":1,"highlight_end":1},{"text":"        let total: i32 = files.iter().map(|f| f.completeness()).sum();","highlight_start":1,"highlight_end":71},{"text":"        let avg = total / i32::try_from(files.len()).map_err(|_| NodokaError::ConversionError)?;","highlight_start":1,"highlight_end":97},{"text":"","highlight_start":1,"highlight_end":1},{"text":"        let mut data = self.data.write().map_err(|_| NodokaError::LockError)?;","highlight_start":1,"highlight_end":79},{"text":"        data.completeness = avg;","highlight_start":1,"highlight_end":33},{"text":"","highlight_start":1,"highlight_end":1},{"text":"        crate::db::queries::update_audiobook_completeness(self.db.connection(), self.id, avg)","highlight_start":1,"highlight_end":94},{"text":"    }","highlight_start":1,"highlight_end":6}],"label":"temporary `data` is currently being dropped at the end of its contained scope","suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"src/proxy/audiobook_proxy.rs","byte_start":1875,"byte_end":1879,"line_start":65,"line_end":65,"column_start":17,"column_end":21,"is_primary":true,"text":[{"text":"        let mut data = self.data.write().map_err(|_| NodokaError::LockError)?;","highlight_start":17,"highlight_end":21}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"this might lead to unnecessary resource contention","code":null,"level":"note","spans":[],"children":[],"rendered":null},{"message":"for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#significant_drop_tightening","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"merge the temporary construction with its single usage","code":null,"level":"help","spans":[{"file_name":"src/proxy/audiobook_proxy.rs","byte_start":1867,"byte_end":1937,"line_start":65,"line_end":65,"column_start":9,"column_end":79,"is_primary":true,"text":[{"text":"        let mut data = self.data.write().map_err(|_| NodokaError::LockError)?;","highlight_start":9,"highlight_end":79}],"label":null,"suggested_replacement":"\n        self.data.write().map_err(|_| NodokaError::LockError)?.;","suggestion_applicability":"MaybeIncorrect","expansion":null}],"children":[],"rendered":null},{"message":"remove separated single usage","code":null,"level":"help","spans":[{"file_name":"src/proxy/audiobook_proxy.rs","byte_start":1946,"byte_end":1970,"line_start":66,"line_end":66,"column_start":9,"column_end":33,"is_primary":true,"text":[{"text":"        data.completeness = avg;","highlight_start":9,"highlight_end":33}],"label":null,"suggested_replacement":"","suggestion_applicability":"MaybeIncorrect","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[0m\u001b[1m\u001b[38;5;9merror\u001b[0m\u001b[0m\u001b[1m: temporary with significant `Drop` can be early dropped\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0msrc/proxy/audiobook_proxy.rs:65:17\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m55\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m   \u001b[0m\u001b[0m    pub fn update_completeness(&self) -> Result<(), NodokaError> {\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m__________________________________________________________________-\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m56\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m        let files = self.get_files()?;\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m57\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m58\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m        if files.is_empty() {\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m...\u001b[0m\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m65\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m        let mut data = self.data.write().map_err(|_| NodokaError::LockError)?;\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m                 \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m^^^^\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m...\u001b[0m\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m68\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m        crate::db::queries::update_audiobook_completeness(self.db.connection(), self.id, avg)\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m69\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m    }\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|_____-\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12mtemporary `data` is currently being dropped at the end of its contained scope\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mnote\u001b[0m\u001b[0m: this might lead to unnecessary resource contention\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#significant_drop_tightening\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;14mhelp\u001b[0m\u001b[0m: merge the temporary construction with its single usage\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m65\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[38;5;10m~ \u001b[0m\u001b[0m        \u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m66\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[38;5;10m+         self.data.write().map_err(|_| NodokaError::LockError)?.;\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;14mhelp\u001b[0m\u001b[0m: remove separated single usage\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m66\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[38;5;9m- \u001b[0m\u001b[0m        data.completeness = avg;\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"redundant closure","code":{"code":"clippy::redundant_closure_for_method_calls","explanation":null},"level":"error","spans":[{"file_name":"src/proxy/audiobook_proxy.rs","byte_start":1732,"byte_end":1752,"line_start":62,"line_end":62,"column_start":43,"column_end":63,"is_primary":true,"text":[{"text":"        let total: i32 = files.iter().map(|f| f.completeness()).sum();","highlight_start":43,"highlight_end":63}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#redundant_closure_for_method_calls","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"`-D clippy::redundant-closure-for-method-calls` implied by `-D warnings`","code":null,"level":"note","spans":[],"children":[],"rendered":null},{"message":"to override `-D warnings` add `#[allow(clippy::redundant_closure_for_method_calls)]`","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"replace the closure with the method itself","code":null,"level":"help","spans":[{"file_name":"src/proxy/audiobook_proxy.rs","byte_start":1732,"byte_end":1752,"line_start":62,"line_end":62,"column_start":43,"column_end":63,"is_primary":true,"text":[{"text":"        let total: i32 = files.iter().map(|f| f.completeness()).sum();","highlight_start":43,"highlight_end":63}],"label":null,"suggested_replacement":"super::audiobook_file_proxy::AudiobookFileProxy::completeness","suggestion_applicability":"MachineApplicable","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[0m\u001b[1m\u001b[38;5;9merror\u001b[0m\u001b[0m\u001b[1m: redundant closure\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0msrc/proxy/audiobook_proxy.rs:62:43\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m62\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m        let total: i32 = files.iter().map(|f| f.completeness()).sum();\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m                                           \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m^^^^^^^^^^^^^^^^^^^^\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9mhelp: replace the closure with the method itself: `super::audiobook_file_proxy::AudiobookFileProxy::completeness`\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#redundant_closure_for_method_calls\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mnote\u001b[0m\u001b[0m: `-D clippy::redundant-closure-for-method-calls` implied by `-D warnings`\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: to override `-D warnings` add `#[allow(clippy::redundant_closure_for_method_calls)]`\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"docs for function returning `Result` missing `# Errors` section","code":{"code":"clippy::missing_errors_doc","explanation":null},"level":"error","spans":[{"file_name":"src/proxy/audiobook_proxy.rs","byte_start":2077,"byte_end":2133,"line_start":71,"line_end":71,"column_start":5,"column_end":61,"is_primary":true,"text":[{"text":"    pub fn get_data(&self) -> Result<Audiobook, NodokaError> {","highlight_start":5,"highlight_end":61}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_errors_doc","code":null,"level":"help","spans":[],"children":[],"rendered":null}],"rendered":"\u001b[0m\u001b[1m\u001b[38;5;9merror\u001b[0m\u001b[0m\u001b[1m: docs for function returning `Result` missing `# Errors` section\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0msrc/proxy/audiobook_proxy.rs:71:5\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m71\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m    pub fn get_data(&self) -> Result<Audiobook, NodokaError> {\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m     \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_errors_doc\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"this method could have a `#[must_use]` attribute","code":{"code":"clippy::must_use_candidate","explanation":null},"level":"error","spans":[{"file_name":"src/proxy/audiobook_proxy.rs","byte_start":2266,"byte_end":2289,"line_start":78,"line_end":78,"column_start":5,"column_end":28,"is_primary":true,"text":[{"text":"    pub fn id(&self) -> i64 {","highlight_start":5,"highlight_end":28}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#must_use_candidate","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"`-D clippy::must-use-candidate` implied by `-D warnings`","code":null,"level":"note","spans":[],"children":[],"rendered":null},{"message":"to override `-D warnings` add `#[allow(clippy::must_use_candidate)]`","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"add the attribute","code":null,"level":"help","spans":[{"file_name":"src/proxy/audiobook_proxy.rs","byte_start":2266,"byte_end":2289,"line_start":78,"line_end":78,"column_start":5,"column_end":28,"is_primary":true,"text":[{"text":"    pub fn id(&self) -> i64 {","highlight_start":5,"highlight_end":28}],"label":null,"suggested_replacement":"#[must_use] pub fn id(&self) -> i64","suggestion_applicability":"MachineApplicable","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[0m\u001b[1m\u001b[38;5;9merror\u001b[0m\u001b[0m\u001b[1m: this method could have a `#[must_use]` attribute\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0msrc/proxy/audiobook_proxy.rs:78:5\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m78\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m    pub fn id(&self) -> i64 {\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m     \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m^^^^^^^^^^^^^^^^^^^^^^^\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9mhelp: add the attribute: `#[must_use] pub fn id(&self) -> i64`\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#must_use_candidate\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mnote\u001b[0m\u001b[0m: `-D clippy::must-use-candidate` implied by `-D warnings`\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: to override `-D warnings` add `#[allow(clippy::must_use_candidate)]`\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"this could be a `const fn`","code":{"code":"clippy::missing_const_for_fn","explanation":null},"level":"error","spans":[{"file_name":"src/proxy/audiobook_proxy.rs","byte_start":2266,"byte_end":2313,"line_start":78,"line_end":80,"column_start":5,"column_end":6,"is_primary":true,"text":[{"text":"    pub fn id(&self) -> i64 {","highlight_start":5,"highlight_end":30},{"text":"        self.id","highlight_start":1,"highlight_end":16},{"text":"    }","highlight_start":1,"highlight_end":6}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_const_for_fn","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"make the function `const`","code":null,"level":"help","spans":[{"file_name":"src/proxy/audiobook_proxy.rs","byte_start":2269,"byte_end":2269,"line_start":78,"line_end":78,"column_start":8,"column_end":8,"is_primary":true,"text":[{"text":"    pub fn id(&self) -> i64 {","highlight_start":8,"highlight_end":8}],"label":null,"suggested_replacement":" const","suggestion_applicability":"MachineApplicable","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[0m\u001b[1m\u001b[38;5;9merror\u001b[0m\u001b[0m\u001b[1m: this could be a `const fn`\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0msrc/proxy/audiobook_proxy.rs:78:5\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m78\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m/\u001b[0m\u001b[0m \u001b[0m\u001b[0m    pub fn id(&self) -> i64 {\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m79\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m        self.id\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m80\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m    }\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m|_____^\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_const_for_fn\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;14mhelp\u001b[0m\u001b[0m: make the function `const`\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m78\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m| \u001b[0m\u001b[0m    pub\u001b[0m\u001b[0m\u001b[38;5;10m const\u001b[0m\u001b[0m fn id(&self) -> i64 {\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m         \u001b[0m\u001b[0m\u001b[38;5;10m+++++\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"this could be a `const fn`","code":{"code":"clippy::missing_const_for_fn","explanation":null},"level":"error","spans":[{"file_name":"src/proxy/audiobook_file_proxy.rs","byte_start":210,"byte_end":302,"line_start":12,"line_end":14,"column_start":5,"column_end":6,"is_primary":true,"text":[{"text":"    pub fn new(data: AudiobookFile, db: Arc<Database>) -> Self {","highlight_start":5,"highlight_end":65},{"text":"        Self { data, db }","highlight_start":1,"highlight_end":26},{"text":"    }","highlight_start":1,"highlight_end":6}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_const_for_fn","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"make the function `const`","code":null,"level":"help","spans":[{"file_name":"src/proxy/audiobook_file_proxy.rs","byte_start":213,"byte_end":213,"line_start":12,"line_end":12,"column_start":8,"column_end":8,"is_primary":true,"text":[{"text":"    pub fn new(data: AudiobookFile, db: Arc<Database>) -> Self {","highlight_start":8,"highlight_end":8}],"label":null,"suggested_replacement":" const","suggestion_applicability":"MachineApplicable","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[0m\u001b[1m\u001b[38;5;9merror\u001b[0m\u001b[0m\u001b[1m: this could be a `const fn`\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0msrc/proxy/audiobook_file_proxy.rs:12:5\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m12\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m/\u001b[0m\u001b[0m \u001b[0m\u001b[0m    pub fn new(data: AudiobookFile, db: Arc<Database>) -> Self {\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m13\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m        Self { data, db }\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m14\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m    }\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m|_____^\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_const_for_fn\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;14mhelp\u001b[0m\u001b[0m: make the function `const`\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m12\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m| \u001b[0m\u001b[0m    pub\u001b[0m\u001b[0m\u001b[38;5;10m const\u001b[0m\u001b[0m fn new(data: AudiobookFile, db: Arc<Database>) -> Self {\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m         \u001b[0m\u001b[0m\u001b[38;5;10m+++++\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"this method could have a `#[must_use]` attribute","code":{"code":"clippy::must_use_candidate","explanation":null},"level":"error","spans":[{"file_name":"src/proxy/audiobook_file_proxy.rs","byte_start":308,"byte_end":341,"line_start":16,"line_end":16,"column_start":5,"column_end":38,"is_primary":true,"text":[{"text":"    pub fn completeness(&self) -> i32 {","highlight_start":5,"highlight_end":38}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#must_use_candidate","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"add the attribute","code":null,"level":"help","spans":[{"file_name":"src/proxy/audiobook_file_proxy.rs","byte_start":308,"byte_end":341,"line_start":16,"line_end":16,"column_start":5,"column_end":38,"is_primary":true,"text":[{"text":"    pub fn completeness(&self) -> i32 {","highlight_start":5,"highlight_end":38}],"label":null,"suggested_replacement":"#[must_use] pub fn completeness(&self) -> i32","suggestion_applicability":"MachineApplicable","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[0m\u001b[1m\u001b[38;5;9merror\u001b[0m\u001b[0m\u001b[1m: this method could have a `#[must_use]` attribute\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0msrc/proxy/audiobook_file_proxy.rs:16:5\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m16\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m    pub fn completeness(&self) -> i32 {\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m     \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9mhelp: add the attribute: `#[must_use] pub fn completeness(&self) -> i32`\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#must_use_candidate\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"this could be a `const fn`","code":{"code":"clippy::missing_const_for_fn","explanation":null},"level":"error","spans":[{"file_name":"src/proxy/audiobook_file_proxy.rs","byte_start":308,"byte_end":380,"line_start":16,"line_end":18,"column_start":5,"column_end":6,"is_primary":true,"text":[{"text":"    pub fn completeness(&self) -> i32 {","highlight_start":5,"highlight_end":40},{"text":"        self.data.completeness","highlight_start":1,"highlight_end":31},{"text":"    }","highlight_start":1,"highlight_end":6}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_const_for_fn","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"make the function `const`","code":null,"level":"help","spans":[{"file_name":"src/proxy/audiobook_file_proxy.rs","byte_start":311,"byte_end":311,"line_start":16,"line_end":16,"column_start":8,"column_end":8,"is_primary":true,"text":[{"text":"    pub fn completeness(&self) -> i32 {","highlight_start":8,"highlight_end":8}],"label":null,"suggested_replacement":" const","suggestion_applicability":"MachineApplicable","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[0m\u001b[1m\u001b[38;5;9merror\u001b[0m\u001b[0m\u001b[1m: this could be a `const fn`\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0msrc/proxy/audiobook_file_proxy.rs:16:5\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m16\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m/\u001b[0m\u001b[0m \u001b[0m\u001b[0m    pub fn completeness(&self) -> i32 {\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m17\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m        self.data.completeness\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m18\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m    }\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m|_____^\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_const_for_fn\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;14mhelp\u001b[0m\u001b[0m: make the function `const`\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m16\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m| \u001b[0m\u001b[0m    pub\u001b[0m\u001b[0m\u001b[38;5;10m const\u001b[0m\u001b[0m fn completeness(&self) -> i32 {\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m         \u001b[0m\u001b[0m\u001b[38;5;10m+++++\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"this method could have a `#[must_use]` attribute","code":{"code":"clippy::must_use_candidate","explanation":null},"level":"error","spans":[{"file_name":"src/proxy/audiobook_file_proxy.rs","byte_start":386,"byte_end":422,"line_start":20,"line_end":20,"column_start":5,"column_end":41,"is_primary":true,"text":[{"text":"    pub fn data(&self) -> &AudiobookFile {","highlight_start":5,"highlight_end":41}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#must_use_candidate","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"add the attribute","code":null,"level":"help","spans":[{"file_name":"src/proxy/audiobook_file_proxy.rs","byte_start":386,"byte_end":422,"line_start":20,"line_end":20,"column_start":5,"column_end":41,"is_primary":true,"text":[{"text":"    pub fn data(&self) -> &AudiobookFile {","highlight_start":5,"highlight_end":41}],"label":null,"suggested_replacement":"#[must_use] pub fn data(&self) -> &AudiobookFile","suggestion_applicability":"MachineApplicable","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[0m\u001b[1m\u001b[38;5;9merror\u001b[0m\u001b[0m\u001b[1m: this method could have a `#[must_use]` attribute\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0msrc/proxy/audiobook_file_proxy.rs:20:5\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m20\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m    pub fn data(&self) -> &AudiobookFile {\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m     \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9mhelp: add the attribute: `#[must_use] pub fn data(&self) -> &AudiobookFile`\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#must_use_candidate\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"this could be a `const fn`","code":{"code":"clippy::missing_const_for_fn","explanation":null},"level":"error","spans":[{"file_name":"src/proxy/audiobook_file_proxy.rs","byte_start":386,"byte_end":449,"line_start":20,"line_end":22,"column_start":5,"column_end":6,"is_primary":true,"text":[{"text":"    pub fn data(&self) -> &AudiobookFile {","highlight_start":5,"highlight_end":43},{"text":"        &self.data","highlight_start":1,"highlight_end":19},{"text":"    }","highlight_start":1,"highlight_end":6}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_const_for_fn","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"make the function `const`","code":null,"level":"help","spans":[{"file_name":"src/proxy/audiobook_file_proxy.rs","byte_start":389,"byte_end":389,"line_start":20,"line_end":20,"column_start":8,"column_end":8,"is_primary":true,"text":[{"text":"    pub fn data(&self) -> &AudiobookFile {","highlight_start":8,"highlight_end":8}],"label":null,"suggested_replacement":" const","suggestion_applicability":"MachineApplicable","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[0m\u001b[1m\u001b[38;5;9merror\u001b[0m\u001b[0m\u001b[1m: this could be a `const fn`\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0msrc/proxy/audiobook_file_proxy.rs:20:5\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m20\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m/\u001b[0m\u001b[0m \u001b[0m\u001b[0m    pub fn data(&self) -> &AudiobookFile {\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m21\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m        &self.data\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m22\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m    }\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m|_____^\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_const_for_fn\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;14mhelp\u001b[0m\u001b[0m: make the function `const`\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m20\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m| \u001b[0m\u001b[0m    pub\u001b[0m\u001b[0m\u001b[38;5;10m const\u001b[0m\u001b[0m fn data(&self) -> &AudiobookFile {\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m         \u001b[0m\u001b[0m\u001b[38;5;10m+++++\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"this could be a `const fn`","code":{"code":"clippy::missing_const_for_fn","explanation":null},"level":"error","spans":[{"file_name":"src/proxy/audiobook_file_proxy.rs","byte_start":523,"byte_end":588,"line_start":26,"line_end":28,"column_start":5,"column_end":6,"is_primary":true,"text":[{"text":"    pub fn database(&self) -> &Arc<Database> {","highlight_start":5,"highlight_end":47},{"text":"        &self.db","highlight_start":1,"highlight_end":17},{"text":"    }","highlight_start":1,"highlight_end":6}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_const_for_fn","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"make the function `const`","code":null,"level":"help","spans":[{"file_name":"src/proxy/audiobook_file_proxy.rs","byte_start":526,"byte_end":526,"line_start":26,"line_end":26,"column_start":8,"column_end":8,"is_primary":true,"text":[{"text":"    pub fn database(&self) -> &Arc<Database> {","highlight_start":8,"highlight_end":8}],"label":null,"suggested_replacement":" const","suggestion_applicability":"MachineApplicable","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[0m\u001b[1m\u001b[38;5;9merror\u001b[0m\u001b[0m\u001b[1m: this could be a `const fn`\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0msrc/proxy/audiobook_file_proxy.rs:26:5\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m26\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m/\u001b[0m\u001b[0m \u001b[0m\u001b[0m    pub fn database(&self) -> &Arc<Database> {\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m27\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m        &self.db\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m28\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m    }\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m|_____^\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_const_for_fn\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;14mhelp\u001b[0m\u001b[0m: make the function `const`\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m26\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m| \u001b[0m\u001b[0m    pub\u001b[0m\u001b[0m\u001b[38;5;10m const\u001b[0m\u001b[0m fn database(&self) -> &Arc<Database> {\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m         \u001b[0m\u001b[0m\u001b[38;5;10m+++++\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"usage of an `Arc` that is not `Send` and `Sync`","code":{"code":"clippy::arc_with_non_send_sync","explanation":null},"level":"error","spans":[{"file_name":"src/proxy/manager.rs","byte_start":385,"byte_end":422,"line_start":16,"line_end":16,"column_start":30,"column_end":67,"is_primary":true,"text":[{"text":"            audiobook_cache: Arc::new(RwLock::new(HashMap::new())),","highlight_start":30,"highlight_end":67}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"`Arc<RwLock<HashMap<i64, AudiobookProxy>>>` is not `Send` and `Sync` as `RwLock<HashMap<i64, AudiobookProxy>>` is neither `Send` nor `Sync`","code":null,"level":"note","spans":[],"children":[],"rendered":null},{"message":"if the `Arc` will not used be across threads replace it with an `Rc`","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"otherwise make `RwLock<HashMap<i64, AudiobookProxy>>` `Send` and `Sync` or consider a wrapper type such as `Mutex`","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#arc_with_non_send_sync","code":null,"level":"help","spans":[],"children":[],"rendered":null}],"rendered":"\u001b[0m\u001b[1m\u001b[38;5;9merror\u001b[0m\u001b[0m\u001b[1m: usage of an `Arc` that is not `Send` and `Sync`\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0msrc/proxy/manager.rs:16:30\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m16\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m            audiobook_cache: Arc::new(RwLock::new(HashMap::new())),\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m                              \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mnote\u001b[0m\u001b[0m: `Arc<RwLock<HashMap<i64, AudiobookProxy>>>` is not `Send` and `Sync` as `RwLock<HashMap<i64, AudiobookProxy>>` is neither `Send` nor `Sync`\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: if the `Arc` will not used be across threads replace it with an `Rc`\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: otherwise make `RwLock<HashMap<i64, AudiobookProxy>>` `Send` and `Sync` or consider a wrapper type such as `Mutex`\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#arc_with_non_send_sync\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"docs for function returning `Result` missing `# Errors` section","code":{"code":"clippy::missing_errors_doc","explanation":null},"level":"error","spans":[{"file_name":"src/proxy/manager.rs","byte_start":445,"byte_end":520,"line_start":20,"line_end":20,"column_start":5,"column_end":80,"is_primary":true,"text":[{"text":"    pub fn get_audiobook(&self, id: i64) -> Result<AudiobookProxy, NodokaError> {","highlight_start":5,"highlight_end":80}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_errors_doc","code":null,"level":"help","spans":[],"children":[],"rendered":null}],"rendered":"\u001b[0m\u001b[1m\u001b[38;5;9merror\u001b[0m\u001b[0m\u001b[1m: docs for function returning `Result` missing `# Errors` section\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0msrc/proxy/manager.rs:20:5\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m20\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m    pub fn get_audiobook(&self, id: i64) -> Result<AudiobookProxy, NodokaError> {\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m     \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_errors_doc\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"temporary with significant `Drop` can be early dropped","code":{"code":"clippy::significant_drop_tightening","explanation":null},"level":"error","spans":[{"file_name":"src/proxy/manager.rs","byte_start":521,"byte_end":1030,"line_start":20,"line_end":41,"column_start":81,"column_end":6,"is_primary":false,"text":[{"text":"    pub fn get_audiobook(&self, id: i64) -> Result<AudiobookProxy, NodokaError> {","highlight_start":81,"highlight_end":82},{"text":"        let cache = self","highlight_start":1,"highlight_end":25},{"text":"            .audiobook_cache","highlight_start":1,"highlight_end":29},{"text":"            .read()","highlight_start":1,"highlight_end":20},{"text":"            .map_err(|_| NodokaError::LockError)?;","highlight_start":1,"highlight_end":51},{"text":"","highlight_start":1,"highlight_end":1},{"text":"        if let Some(proxy) = cache.get(&id) {","highlight_start":1,"highlight_end":46},{"text":"            return Ok(proxy.clone());","highlight_start":1,"highlight_end":38},{"text":"        }","highlight_start":1,"highlight_end":10},{"text":"","highlight_start":1,"highlight_end":1},{"text":"        drop(cache);","highlight_start":1,"highlight_end":21},{"text":"","highlight_start":1,"highlight_end":1},{"text":"        let proxy = AudiobookProxy::new(id, Arc::clone(&self.db))?;","highlight_start":1,"highlight_end":68},{"text":"","highlight_start":1,"highlight_end":1},{"text":"        let mut cache = self","highlight_start":1,"highlight_end":29},{"text":"            .audiobook_cache","highlight_start":1,"highlight_end":29},{"text":"            .write()","highlight_start":1,"highlight_end":21},{"text":"            .map_err(|_| NodokaError::LockError)?;","highlight_start":1,"highlight_end":51},{"text":"        cache.insert(id, proxy.clone());","highlight_start":1,"highlight_end":41},{"text":"","highlight_start":1,"highlight_end":1},{"text":"        Ok(proxy)","highlight_start":1,"highlight_end":18},{"text":"    }","highlight_start":1,"highlight_end":6}],"label":"temporary `cache` is currently being dropped at the end of its contained scope","suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"src/proxy/manager.rs","byte_start":851,"byte_end":856,"line_start":34,"line_end":34,"column_start":17,"column_end":22,"is_primary":true,"text":[{"text":"        let mut cache = self","highlight_start":17,"highlight_end":22}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"this might lead to unnecessary resource contention","code":null,"level":"note","spans":[],"children":[],"rendered":null},{"message":"for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#significant_drop_tightening","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"merge the temporary construction with its single usage","code":null,"level":"help","spans":[{"file_name":"src/proxy/manager.rs","byte_start":843,"byte_end":964,"line_start":34,"line_end":37,"column_start":9,"column_end":51,"is_primary":true,"text":[{"text":"        let mut cache = self","highlight_start":9,"highlight_end":29},{"text":"            .audiobook_cache","highlight_start":1,"highlight_end":29},{"text":"            .write()","highlight_start":1,"highlight_end":21},{"text":"            .map_err(|_| NodokaError::LockError)?;","highlight_start":1,"highlight_end":51}],"label":null,"suggested_replacement":"\n        self\n            .audiobook_cache\n            .write()\n            .map_err(|_| NodokaError::LockError)?.insert(id, proxy.clone());","suggestion_applicability":"MaybeIncorrect","expansion":null}],"children":[],"rendered":null},{"message":"remove separated single usage","code":null,"level":"help","spans":[{"file_name":"src/proxy/manager.rs","byte_start":973,"byte_end":1005,"line_start":38,"line_end":38,"column_start":9,"column_end":41,"is_primary":true,"text":[{"text":"        cache.insert(id, proxy.clone());","highlight_start":9,"highlight_end":41}],"label":null,"suggested_replacement":"","suggestion_applicability":"MaybeIncorrect","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[0m\u001b[1m\u001b[38;5;9merror\u001b[0m\u001b[0m\u001b[1m: temporary with significant `Drop` can be early dropped\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0msrc/proxy/manager.rs:34:17\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m20\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m   \u001b[0m\u001b[0m    pub fn get_audiobook(&self, id: i64) -> Result<AudiobookProxy, NodokaError> {\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m_________________________________________________________________________________-\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m21\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m        let cache = self\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m22\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m            .audiobook_cache\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m23\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m            .read()\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m...\u001b[0m\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m34\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m        let mut cache = self\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m                 \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m^^^^^\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m...\u001b[0m\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m40\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m        Ok(proxy)\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m41\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m    }\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|_____-\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12mtemporary `cache` is currently being dropped at the end of its contained scope\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mnote\u001b[0m\u001b[0m: this might lead to unnecessary resource contention\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#significant_drop_tightening\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;14mhelp\u001b[0m\u001b[0m: merge the temporary construction with its single usage\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m34\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[38;5;10m~ \u001b[0m\u001b[0m        \u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m35\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[38;5;10m+         self\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m36\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[38;5;10m+             .audiobook_cache\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m37\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[38;5;10m+             .write()\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m38\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[38;5;10m+             .map_err(|_| NodokaError::LockError)?.insert(id, proxy.clone());\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;14mhelp\u001b[0m\u001b[0m: remove separated single usage\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m38\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[38;5;9m- \u001b[0m\u001b[0m        cache.insert(id, proxy.clone());\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"docs for function returning `Result` missing `# Errors` section","code":{"code":"clippy::missing_errors_doc","explanation":null},"level":"error","spans":[{"file_name":"src/proxy/manager.rs","byte_start":1036,"byte_end":1088,"line_start":43,"line_end":43,"column_start":5,"column_end":57,"is_primary":true,"text":[{"text":"    pub fn clear_cache(&self) -> Result<(), NodokaError> {","highlight_start":5,"highlight_end":57}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_errors_doc","code":null,"level":"help","spans":[],"children":[],"rendered":null}],"rendered":"\u001b[0m\u001b[1m\u001b[38;5;9merror\u001b[0m\u001b[0m\u001b[1m: docs for function returning `Result` missing `# Errors` section\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0msrc/proxy/manager.rs:43:5\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m43\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m    pub fn clear_cache(&self) -> Result<(), NodokaError> {\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m     \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_errors_doc\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"temporary with significant `Drop` can be early dropped","code":{"code":"clippy::significant_drop_tightening","explanation":null},"level":"error","spans":[{"file_name":"src/proxy/manager.rs","byte_start":1089,"byte_end":1264,"line_start":43,"line_end":50,"column_start":58,"column_end":6,"is_primary":false,"text":[{"text":"    pub fn clear_cache(&self) -> Result<(), NodokaError> {","highlight_start":58,"highlight_end":59},{"text":"        let mut cache = self","highlight_start":1,"highlight_end":29},{"text":"            .audiobook_cache","highlight_start":1,"highlight_end":29},{"text":"            .write()","highlight_start":1,"highlight_end":21},{"text":"            .map_err(|_| NodokaError::LockError)?;","highlight_start":1,"highlight_end":51},{"text":"        cache.clear();","highlight_start":1,"highlight_end":23},{"text":"        Ok(())","highlight_start":1,"highlight_end":15},{"text":"    }","highlight_start":1,"highlight_end":6}],"label":"temporary `cache` is currently being dropped at the end of its contained scope","suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"src/proxy/manager.rs","byte_start":1107,"byte_end":1112,"line_start":44,"line_end":44,"column_start":17,"column_end":22,"is_primary":true,"text":[{"text":"        let mut cache = self","highlight_start":17,"highlight_end":22}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"this might lead to unnecessary resource contention","code":null,"level":"note","spans":[],"children":[],"rendered":null},{"message":"for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#significant_drop_tightening","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"merge the temporary construction with its single usage","code":null,"level":"help","spans":[{"file_name":"src/proxy/manager.rs","byte_start":1099,"byte_end":1220,"line_start":44,"line_end":47,"column_start":9,"column_end":51,"is_primary":true,"text":[{"text":"        let mut cache = self","highlight_start":9,"highlight_end":29},{"text":"            .audiobook_cache","highlight_start":1,"highlight_end":29},{"text":"            .write()","highlight_start":1,"highlight_end":21},{"text":"            .map_err(|_| NodokaError::LockError)?;","highlight_start":1,"highlight_end":51}],"label":null,"suggested_replacement":"\n        self\n            .audiobook_cache\n            .write()\n            .map_err(|_| NodokaError::LockError)?.clear();","suggestion_applicability":"MaybeIncorrect","expansion":null}],"children":[],"rendered":null},{"message":"remove separated single usage","code":null,"level":"help","spans":[{"file_name":"src/proxy/manager.rs","byte_start":1229,"byte_end":1243,"line_start":48,"line_end":48,"column_start":9,"column_end":23,"is_primary":true,"text":[{"text":"        cache.clear();","highlight_start":9,"highlight_end":23}],"label":null,"suggested_replacement":"","suggestion_applicability":"MaybeIncorrect","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[0m\u001b[1m\u001b[38;5;9merror\u001b[0m\u001b[0m\u001b[1m: temporary with significant `Drop` can be early dropped\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0msrc/proxy/manager.rs:44:17\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m43\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m   \u001b[0m\u001b[0m    pub fn clear_cache(&self) -> Result<(), NodokaError> {\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m__________________________________________________________-\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m44\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m        let mut cache = self\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m                 \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m^^^^^\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m45\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m            .audiobook_cache\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m46\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m            .write()\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m...\u001b[0m\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m49\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m        Ok(())\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m50\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m    }\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|_____-\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12mtemporary `cache` is currently being dropped at the end of its contained scope\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mnote\u001b[0m\u001b[0m: this might lead to unnecessary resource contention\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#significant_drop_tightening\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;14mhelp\u001b[0m\u001b[0m: merge the temporary construction with its single usage\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m44\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[38;5;10m~ \u001b[0m\u001b[0m        \u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m45\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[38;5;10m+         self\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m46\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[38;5;10m+             .audiobook_cache\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m47\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[38;5;10m+             .write()\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m48\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[38;5;10m+             .map_err(|_| NodokaError::LockError)?.clear();\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;14mhelp\u001b[0m\u001b[0m: remove separated single usage\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m48\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[38;5;9m- \u001b[0m\u001b[0m        cache.clear();\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"this could be a `const fn`","code":{"code":"clippy::missing_const_for_fn","explanation":null},"level":"error","spans":[{"file_name":"src/settings/storage.rs","byte_start":206,"byte_end":276,"line_start":11,"line_end":13,"column_start":5,"column_end":6,"is_primary":true,"text":[{"text":"    pub fn new(conn: &'a Connection) -> Self {","highlight_start":5,"highlight_end":47},{"text":"        Self { conn }","highlight_start":1,"highlight_end":22},{"text":"    }","highlight_start":1,"highlight_end":6}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_const_for_fn","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"make the function `const`","code":null,"level":"help","spans":[{"file_name":"src/settings/storage.rs","byte_start":209,"byte_end":209,"line_start":11,"line_end":11,"column_start":8,"column_end":8,"is_primary":true,"text":[{"text":"    pub fn new(conn: &'a Connection) -> Self {","highlight_start":8,"highlight_end":8}],"label":null,"suggested_replacement":" const","suggestion_applicability":"MachineApplicable","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[0m\u001b[1m\u001b[38;5;9merror\u001b[0m\u001b[0m\u001b[1m: this could be a `const fn`\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0msrc/settings/storage.rs:11:5\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m11\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m/\u001b[0m\u001b[0m \u001b[0m\u001b[0m    pub fn new(conn: &'a Connection) -> Self {\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m12\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m        Self { conn }\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m13\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m    }\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m|_____^\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_const_for_fn\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;14mhelp\u001b[0m\u001b[0m: make the function `const`\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m11\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m| \u001b[0m\u001b[0m    pub\u001b[0m\u001b[0m\u001b[38;5;10m const\u001b[0m\u001b[0m fn new(conn: &'a Connection) -> Self {\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m         \u001b[0m\u001b[0m\u001b[38;5;10m+++++\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"use Option::map_or_else instead of an if let/else","code":{"code":"clippy::option_if_let_else","explanation":null},"level":"error","spans":[{"file_name":"src/settings/storage.rs","byte_start":450,"byte_end":577,"line_start":21,"line_end":24,"column_start":9,"column_end":10,"is_primary":true,"text":[{"text":"        match get_metadata(self.conn, \"volume\")? {","highlight_start":9,"highlight_end":51},{"text":"            Some(v) => v.parse().or(Ok(100)),","highlight_start":1,"highlight_end":46},{"text":"            None => Ok(100),","highlight_start":1,"highlight_end":29},{"text":"        }","highlight_start":1,"highlight_end":10}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#option_if_let_else","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"try","code":null,"level":"help","spans":[{"file_name":"src/settings/storage.rs","byte_start":450,"byte_end":577,"line_start":21,"line_end":24,"column_start":9,"column_end":10,"is_primary":true,"text":[{"text":"        match get_metadata(self.conn, \"volume\")? {","highlight_start":9,"highlight_end":51},{"text":"            Some(v) => v.parse().or(Ok(100)),","highlight_start":1,"highlight_end":46},{"text":"            None => Ok(100),","highlight_start":1,"highlight_end":29},{"text":"        }","highlight_start":1,"highlight_end":10}],"label":null,"suggested_replacement":"(get_metadata(self.conn, \"volume\")?).map_or_else(|| Ok(100), |v| v.parse().or(Ok(100)))","suggestion_applicability":"MaybeIncorrect","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[0m\u001b[1m\u001b[38;5;9merror\u001b[0m\u001b[0m\u001b[1m: use Option::map_or_else instead of an if let/else\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0msrc/settings/storage.rs:21:9\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m21\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m/\u001b[0m\u001b[0m \u001b[0m\u001b[0m        match get_metadata(self.conn, \"volume\")? {\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m22\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m            Some(v) => v.parse().or(Ok(100)),\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m23\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m            None => Ok(100),\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m24\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m        }\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m|_________^\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9mhelp: try: `(get_metadata(self.conn, \"volume\")?).map_or_else(|| Ok(100), |v| v.parse().or(Ok(100)))`\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#option_if_let_else\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"use Option::map_or_else instead of an if let/else","code":{"code":"clippy::option_if_let_else","explanation":null},"level":"error","spans":[{"file_name":"src/settings/storage.rs","byte_start":1011,"byte_end":1137,"line_start":42,"line_end":45,"column_start":9,"column_end":10,"is_primary":true,"text":[{"text":"        match get_metadata(self.conn, \"speed\")? {","highlight_start":9,"highlight_end":50},{"text":"            Some(v) => v.parse().or(Ok(1.0)),","highlight_start":1,"highlight_end":46},{"text":"            None => Ok(1.0),","highlight_start":1,"highlight_end":29},{"text":"        }","highlight_start":1,"highlight_end":10}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#option_if_let_else","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"try","code":null,"level":"help","spans":[{"file_name":"src/settings/storage.rs","byte_start":1011,"byte_end":1137,"line_start":42,"line_end":45,"column_start":9,"column_end":10,"is_primary":true,"text":[{"text":"        match get_metadata(self.conn, \"speed\")? {","highlight_start":9,"highlight_end":50},{"text":"            Some(v) => v.parse().or(Ok(1.0)),","highlight_start":1,"highlight_end":46},{"text":"            None => Ok(1.0),","highlight_start":1,"highlight_end":29},{"text":"        }","highlight_start":1,"highlight_end":10}],"label":null,"suggested_replacement":"(get_metadata(self.conn, \"speed\")?).map_or_else(|| Ok(1.0), |v| v.parse().or(Ok(1.0)))","suggestion_applicability":"MaybeIncorrect","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[0m\u001b[1m\u001b[38;5;9merror\u001b[0m\u001b[0m\u001b[1m: use Option::map_or_else instead of an if let/else\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0msrc/settings/storage.rs:42:9\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m42\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m/\u001b[0m\u001b[0m \u001b[0m\u001b[0m        match get_metadata(self.conn, \"speed\")? {\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m43\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m            Some(v) => v.parse().or(Ok(1.0)),\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m44\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m            None => Ok(1.0),\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m45\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m        }\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m|_________^\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9mhelp: try: `(get_metadata(self.conn, \"speed\")?).map_or_else(|| Ok(1.0), |v| v.parse().or(Ok(1.0)))`\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#option_if_let_else\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"use Option::map_or_else instead of an if let/else","code":{"code":"clippy::option_if_let_else","explanation":null},"level":"error","spans":[{"file_name":"src/settings/storage.rs","byte_start":1593,"byte_end":1861,"line_start":63,"line_end":68,"column_start":9,"column_end":10,"is_primary":true,"text":[{"text":"        match get_metadata(self.conn, \"current_audiobook_id\")? {","highlight_start":9,"highlight_end":65},{"text":"            Some(v) => v.parse().ok().map(Some).ok_or_else(|| {","highlight_start":1,"highlight_end":64},{"text":"                crate::error::NodokaError::InvalidState(\"Invalid audiobook ID\".to_string())","highlight_start":1,"highlight_end":92},{"text":"            }),","highlight_start":1,"highlight_end":16},{"text":"            None => Ok(None),","highlight_start":1,"highlight_end":30},{"text":"        }","highlight_start":1,"highlight_end":10}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#option_if_let_else","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"try","code":null,"level":"help","spans":[{"file_name":"src/settings/storage.rs","byte_start":1593,"byte_end":1861,"line_start":63,"line_end":68,"column_start":9,"column_end":10,"is_primary":true,"text":[{"text":"        match get_metadata(self.conn, \"current_audiobook_id\")? {","highlight_start":9,"highlight_end":65},{"text":"            Some(v) => v.parse().ok().map(Some).ok_or_else(|| {","highlight_start":1,"highlight_end":64},{"text":"                crate::error::NodokaError::InvalidState(\"Invalid audiobook ID\".to_string())","highlight_start":1,"highlight_end":92},{"text":"            }),","highlight_start":1,"highlight_end":16},{"text":"            None => Ok(None),","highlight_start":1,"highlight_end":30},{"text":"        }","highlight_start":1,"highlight_end":10}],"label":null,"suggested_replacement":"(get_metadata(self.conn, \"current_audiobook_id\")?).map_or_else(|| Ok(None), |v| v.parse().ok().map(Some).ok_or_else(|| {\n                crate::error::NodokaError::InvalidState(\"Invalid audiobook ID\".to_string())\n            }))","suggestion_applicability":"MaybeIncorrect","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[0m\u001b[1m\u001b[38;5;9merror\u001b[0m\u001b[0m\u001b[1m: use Option::map_or_else instead of an if let/else\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0msrc/settings/storage.rs:63:9\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m63\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m/\u001b[0m\u001b[0m \u001b[0m\u001b[0m        match get_metadata(self.conn, \"current_audiobook_id\")? {\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m64\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m            Some(v) => v.parse().ok().map(Some).ok_or_else(|| {\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m65\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m                crate::error::NodokaError::InvalidState(\"Invalid audiobook ID\".to_string())\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m66\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m            }),\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m67\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m            None => Ok(None),\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m68\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m        }\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m|_________^\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#option_if_let_else\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;14mhelp\u001b[0m\u001b[0m: try\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m63\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[38;5;10m~ \u001b[0m\u001b[0m        \u001b[0m\u001b[0m\u001b[38;5;10m(get_metadata(self.conn, \"current_audiobook_id\")?).map_or_else(|| Ok(None), |v| v.parse().ok().map(Some).ok_or_else(|| {\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m64\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[38;5;10m+                 crate::error::NodokaError::InvalidState(\"Invalid audiobook ID\".to_string())\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m65\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[38;5;10m+             }))\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers","code":{"code":"clippy::cast_possible_truncation","explanation":null},"level":"error","spans":[{"file_name":"src/tasks/scan_directory.rs","byte_start":2366,"byte_end":2376,"line_start":84,"line_end":84,"column_start":28,"column_end":38,"is_primary":true,"text":[{"text":"            default_order: idx as i32,","highlight_start":28,"highlight_end":38}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_possible_truncation","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"... or use `try_from` and handle the error accordingly","code":null,"level":"help","spans":[{"file_name":"src/tasks/scan_directory.rs","byte_start":2366,"byte_end":2376,"line_start":84,"line_end":84,"column_start":28,"column_end":38,"is_primary":true,"text":[{"text":"            default_order: idx as i32,","highlight_start":28,"highlight_end":38}],"label":null,"suggested_replacement":"i32::try_from(idx)","suggestion_applicability":"Unspecified","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[0m\u001b[1m\u001b[38;5;9merror\u001b[0m\u001b[0m\u001b[1m: casting `usize` to `i32` may truncate the value on targets with 64-bit wide pointers\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0msrc/tasks/scan_directory.rs:84:28\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m84\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m            default_order: idx as i32,\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m                            \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m^^^^^^^^^^\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_possible_truncation\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;14mhelp\u001b[0m\u001b[0m: ... or use `try_from` and handle the error accordingly\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m84\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m| \u001b[0m\u001b[0m            default_order: \u001b[0m\u001b[0m\u001b[38;5;10mi32::try_from(idx)\u001b[0m\u001b[0m,\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m                            \u001b[0m\u001b[0m\u001b[38;5;10m~~~~~~~~~~~~~~~~~~\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers","code":{"code":"clippy::cast_possible_wrap","explanation":null},"level":"error","spans":[{"file_name":"src/tasks/scan_directory.rs","byte_start":2366,"byte_end":2376,"line_start":84,"line_end":84,"column_start":28,"column_end":38,"is_primary":true,"text":[{"text":"            default_order: idx as i32,","highlight_start":28,"highlight_end":38}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_possible_wrap","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"`-D clippy::cast-possible-wrap` implied by `-D warnings`","code":null,"level":"note","spans":[],"children":[],"rendered":null},{"message":"to override `-D warnings` add `#[allow(clippy::cast_possible_wrap)]`","code":null,"level":"help","spans":[],"children":[],"rendered":null}],"rendered":"\u001b[0m\u001b[1m\u001b[38;5;9merror\u001b[0m\u001b[0m\u001b[1m: casting `usize` to `i32` may wrap around the value on targets with 32-bit wide pointers\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0msrc/tasks/scan_directory.rs:84:28\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m84\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m            default_order: idx as i32,\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m                            \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m^^^^^^^^^^\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_possible_wrap\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mnote\u001b[0m\u001b[0m: `-D clippy::cast-possible-wrap` implied by `-D warnings`\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: to override `-D warnings` add `#[allow(clippy::cast_possible_wrap)]`\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"slicing may panic","code":{"code":"clippy::indexing_slicing","explanation":null},"level":"error","spans":[{"file_name":"src/tasks/checksum.rs","byte_start":545,"byte_end":556,"line_start":21,"line_end":21,"column_start":24,"column_end":35,"is_primary":true,"text":[{"text":"        hasher.update(&buffer[..n]);","highlight_start":24,"highlight_end":35}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"consider using `.get(..n)`or `.get_mut(..n)` instead","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#indexing_slicing","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"requested on the command line with `-D clippy::indexing-slicing`","code":null,"level":"note","spans":[],"children":[],"rendered":null}],"rendered":"\u001b[0m\u001b[1m\u001b[38;5;9merror\u001b[0m\u001b[0m\u001b[1m: slicing may panic\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0msrc/tasks/checksum.rs:21:24\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m21\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m        hasher.update(&buffer[..n]);\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m                        \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m^^^^^^^^^^^\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: consider using `.get(..n)`or `.get_mut(..n)` instead\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#indexing_slicing\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mnote\u001b[0m\u001b[0m: requested on the command line with `-D clippy::indexing-slicing`\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"approximate value of `f{32, 64}::consts::FRAC_1_PI` found","code":{"code":"clippy::approx_constant","explanation":null},"level":"error","spans":[{"file_name":"src/ui/styles.rs","byte_start":533,"byte_end":538,"line_start":9,"line_end":9,"column_start":60,"column_end":65,"is_primary":true,"text":[{"text":"pub const SELECTED_ITEM_BG: Color = Color::from_rgb(0.333, 0.318, 0.322); // #555152","highlight_start":60,"highlight_end":65}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"consider using the constant directly","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#approx_constant","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"`-D clippy::approx-constant` implied by `-D clippy::all`","code":null,"level":"note","spans":[],"children":[],"rendered":null},{"message":"to override `-D clippy::all` add `#[allow(clippy::approx_constant)]`","code":null,"level":"help","spans":[],"children":[],"rendered":null}],"rendered":"\u001b[0m\u001b[1m\u001b[38;5;9merror\u001b[0m\u001b[0m\u001b[1m: approximate value of `f{32, 64}::consts::FRAC_1_PI` found\u001b[0m\n\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0msrc/ui/styles.rs:9:60\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m9\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0mpub const SELECTED_ITEM_BG: Color = Color::from_rgb(0.333, 0.318, 0.322); // #555152\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m                                                            \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m^^^^^\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: consider using the constant directly\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#approx_constant\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mnote\u001b[0m\u001b[0m: `-D clippy::approx-constant` implied by `-D clippy::all`\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: to override `-D clippy::all` add `#[allow(clippy::approx_constant)]`\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"approximate value of `f{32, 64}::consts::FRAC_1_PI` found","code":{"code":"clippy::approx_constant","explanation":null},"level":"error","spans":[{"file_name":"src/ui/styles.rs","byte_start":605,"byte_end":610,"line_start":10,"line_end":10,"column_start":47,"column_end":52,"is_primary":true,"text":[{"text":"pub const TEXT_COLOR: Color = Color::from_rgb(0.318, 0.318, 0.318); // #515151","highlight_start":47,"highlight_end":52}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"consider using the constant directly","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#approx_constant","code":null,"level":"help","spans":[],"children":[],"rendered":null}],"rendered":"\u001b[0m\u001b[1m\u001b[38;5;9merror\u001b[0m\u001b[0m\u001b[1m: approximate value of `f{32, 64}::consts::FRAC_1_PI` found\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0msrc/ui/styles.rs:10:47\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m10\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0mpub const TEXT_COLOR: Color = Color::from_rgb(0.318, 0.318, 0.318); // #515151\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m                                               \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m^^^^^\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: consider using the constant directly\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#approx_constant\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"approximate value of `f{32, 64}::consts::FRAC_1_PI` found","code":{"code":"clippy::approx_constant","explanation":null},"level":"error","spans":[{"file_name":"src/ui/styles.rs","byte_start":612,"byte_end":617,"line_start":10,"line_end":10,"column_start":54,"column_end":59,"is_primary":true,"text":[{"text":"pub const TEXT_COLOR: Color = Color::from_rgb(0.318, 0.318, 0.318); // #515151","highlight_start":54,"highlight_end":59}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"consider using the constant directly","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#approx_constant","code":null,"level":"help","spans":[],"children":[],"rendered":null}],"rendered":"\u001b[0m\u001b[1m\u001b[38;5;9merror\u001b[0m\u001b[0m\u001b[1m: approximate value of `f{32, 64}::consts::FRAC_1_PI` found\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0msrc/ui/styles.rs:10:54\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m10\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0mpub const TEXT_COLOR: Color = Color::from_rgb(0.318, 0.318, 0.318); // #515151\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m                                                      \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m^^^^^\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: consider using the constant directly\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#approx_constant\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"approximate value of `f{32, 64}::consts::FRAC_1_PI` found","code":{"code":"clippy::approx_constant","explanation":null},"level":"error","spans":[{"file_name":"src/ui/styles.rs","byte_start":619,"byte_end":624,"line_start":10,"line_end":10,"column_start":61,"column_end":66,"is_primary":true,"text":[{"text":"pub const TEXT_COLOR: Color = Color::from_rgb(0.318, 0.318, 0.318); // #515151","highlight_start":61,"highlight_end":66}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"consider using the constant directly","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#approx_constant","code":null,"level":"help","spans":[],"children":[],"rendered":null}],"rendered":"\u001b[0m\u001b[1m\u001b[38;5;9merror\u001b[0m\u001b[0m\u001b[1m: approximate value of `f{32, 64}::consts::FRAC_1_PI` found\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0msrc/ui/styles.rs:10:61\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m10\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0mpub const TEXT_COLOR: Color = Color::from_rgb(0.318, 0.318, 0.318); // #515151\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m                                                             \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m^^^^^\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: consider using the constant directly\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#approx_constant\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"this function could have a `#[must_use]` attribute","code":{"code":"clippy::must_use_candidate","explanation":null},"level":"error","spans":[{"file_name":"src/ui/components/audiobook_list.rs","byte_start":172,"byte_end":291,"line_start":6,"line_end":9,"column_start":1,"column_end":31,"is_primary":true,"text":[{"text":"pub fn build_audiobook_list(","highlight_start":1,"highlight_end":29},{"text":"    audiobooks: &[Audiobook],","highlight_start":1,"highlight_end":30},{"text":"    selected_id: Option<i64>,","highlight_start":1,"highlight_end":30},{"text":") -> Element<'static, Message> {","highlight_start":1,"highlight_end":31}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#must_use_candidate","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"add the attribute","code":null,"level":"help","spans":[{"file_name":"src/ui/components/audiobook_list.rs","byte_start":172,"byte_end":291,"line_start":6,"line_end":9,"column_start":1,"column_end":31,"is_primary":true,"text":[{"text":"pub fn build_audiobook_list(","highlight_start":1,"highlight_end":29},{"text":"    audiobooks: &[Audiobook],","highlight_start":1,"highlight_end":30},{"text":"    selected_id: Option<i64>,","highlight_start":1,"highlight_end":30},{"text":") -> Element<'static, Message> {","highlight_start":1,"highlight_end":31}],"label":null,"suggested_replacement":"#[must_use] pub fn build_audiobook_list(\n    audiobooks: &[Audiobook],\n    selected_id: Option<i64>,\n) -> Element<'static, Message>","suggestion_applicability":"MachineApplicable","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[0m\u001b[1m\u001b[38;5;9merror\u001b[0m\u001b[0m\u001b[1m: this function could have a `#[must_use]` attribute\u001b[0m\n\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0msrc/ui/components/audiobook_list.rs:6:1\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m6\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m/\u001b[0m\u001b[0m \u001b[0m\u001b[0mpub fn build_audiobook_list(\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m7\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m    audiobooks: &[Audiobook],\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m8\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m    selected_id: Option<i64>,\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m9\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m) -> Element<'static, Message> {\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m|______________________________^\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#must_use_candidate\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;14mhelp\u001b[0m\u001b[0m: add the attribute\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m6\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[38;5;10m+ #[must_use] pub fn build_audiobook_list(\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m7\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[38;5;10m+     audiobooks: &[Audiobook],\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m8\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[38;5;10m+     selected_id: Option<i64>,\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m9\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[38;5;10m~ ) -> Element<'static, Message>\u001b[0m\u001b[0m {\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"variables can be used directly in the `format!` string","code":{"code":"clippy::uninlined_format_args","explanation":null},"level":"error","spans":[{"file_name":"src/ui/components/audiobook_list.rs","byte_start":952,"byte_end":980,"line_start":32,"line_end":32,"column_start":22,"column_end":50,"is_primary":true,"text":[{"text":"                text(format!(\"{}%\", completeness)).size(12),","highlight_start":22,"highlight_end":50}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"`-D clippy::uninlined-format-args` implied by `-D warnings`","code":null,"level":"note","spans":[],"children":[],"rendered":null},{"message":"to override `-D warnings` add `#[allow(clippy::uninlined_format_args)]`","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"change this to","code":null,"level":"help","spans":[{"file_name":"src/ui/components/audiobook_list.rs","byte_start":962,"byte_end":962,"line_start":32,"line_end":32,"column_start":32,"column_end":32,"is_primary":true,"text":[{"text":"                text(format!(\"{}%\", completeness)).size(12),","highlight_start":32,"highlight_end":32}],"label":null,"suggested_replacement":"completeness","suggestion_applicability":"MachineApplicable","expansion":null},{"file_name":"src/ui/components/audiobook_list.rs","byte_start":965,"byte_end":979,"line_start":32,"line_end":32,"column_start":35,"column_end":49,"is_primary":true,"text":[{"text":"                text(format!(\"{}%\", completeness)).size(12),","highlight_start":35,"highlight_end":49}],"label":null,"suggested_replacement":"","suggestion_applicability":"MachineApplicable","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[0m\u001b[1m\u001b[38;5;9merror\u001b[0m\u001b[0m\u001b[1m: variables can be used directly in the `format!` string\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0msrc/ui/components/audiobook_list.rs:32:22\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m32\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m                text(format!(\"{}%\", completeness)).size(12),\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m                      \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mnote\u001b[0m\u001b[0m: `-D clippy::uninlined-format-args` implied by `-D warnings`\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: to override `-D warnings` add `#[allow(clippy::uninlined_format_args)]`\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;14mhelp\u001b[0m\u001b[0m: change this to\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m32\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[38;5;9m- \u001b[0m\u001b[0m                text(format!(\"{}%\"\u001b[0m\u001b[0m\u001b[38;5;9m, completeness\u001b[0m\u001b[0m)).size(12),\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m32\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[38;5;10m+ \u001b[0m\u001b[0m                text(format!(\"{\u001b[0m\u001b[0m\u001b[38;5;10mcompleteness\u001b[0m\u001b[0m}%\")).size(12),\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"this function could have a `#[must_use]` attribute","code":{"code":"clippy::must_use_candidate","explanation":null},"level":"error","spans":[{"file_name":"src/ui/components/file_list.rs","byte_start":176,"byte_end":295,"line_start":6,"line_end":9,"column_start":1,"column_end":31,"is_primary":true,"text":[{"text":"pub fn build_file_list(","highlight_start":1,"highlight_end":24},{"text":"    files: &[AudiobookFile],","highlight_start":1,"highlight_end":29},{"text":"    selected_path: Option<&String>,","highlight_start":1,"highlight_end":36},{"text":") -> Element<'static, Message> {","highlight_start":1,"highlight_end":31}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#must_use_candidate","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"add the attribute","code":null,"level":"help","spans":[{"file_name":"src/ui/components/file_list.rs","byte_start":176,"byte_end":295,"line_start":6,"line_end":9,"column_start":1,"column_end":31,"is_primary":true,"text":[{"text":"pub fn build_file_list(","highlight_start":1,"highlight_end":24},{"text":"    files: &[AudiobookFile],","highlight_start":1,"highlight_end":29},{"text":"    selected_path: Option<&String>,","highlight_start":1,"highlight_end":36},{"text":") -> Element<'static, Message> {","highlight_start":1,"highlight_end":31}],"label":null,"suggested_replacement":"#[must_use] pub fn build_file_list(\n    files: &[AudiobookFile],\n    selected_path: Option<&String>,\n) -> Element<'static, Message>","suggestion_applicability":"MachineApplicable","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[0m\u001b[1m\u001b[38;5;9merror\u001b[0m\u001b[0m\u001b[1m: this function could have a `#[must_use]` attribute\u001b[0m\n\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0msrc/ui/components/file_list.rs:6:1\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m6\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m/\u001b[0m\u001b[0m \u001b[0m\u001b[0mpub fn build_file_list(\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m7\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m    files: &[AudiobookFile],\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m8\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m    selected_path: Option<&String>,\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m9\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m) -> Element<'static, Message> {\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m|______________________________^\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#must_use_candidate\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;14mhelp\u001b[0m\u001b[0m: add the attribute\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m6\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[38;5;10m+ #[must_use] pub fn build_file_list(\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m7\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[38;5;10m+     files: &[AudiobookFile],\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m8\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[38;5;10m+     selected_path: Option<&String>,\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m9\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[38;5;10m~ ) -> Element<'static, Message>\u001b[0m\u001b[0m {\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"variables can be used directly in the `format!` string","code":{"code":"clippy::uninlined_format_args","explanation":null},"level":"error","spans":[{"file_name":"src/ui/components/file_list.rs","byte_start":1301,"byte_end":1329,"line_start":39,"line_end":39,"column_start":26,"column_end":54,"is_primary":true,"text":[{"text":"                    text(format!(\"{}%\", completeness)).size(11)","highlight_start":26,"highlight_end":54}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"change this to","code":null,"level":"help","spans":[{"file_name":"src/ui/components/file_list.rs","byte_start":1311,"byte_end":1311,"line_start":39,"line_end":39,"column_start":36,"column_end":36,"is_primary":true,"text":[{"text":"                    text(format!(\"{}%\", completeness)).size(11)","highlight_start":36,"highlight_end":36}],"label":null,"suggested_replacement":"completeness","suggestion_applicability":"MachineApplicable","expansion":null},{"file_name":"src/ui/components/file_list.rs","byte_start":1314,"byte_end":1328,"line_start":39,"line_end":39,"column_start":39,"column_end":53,"is_primary":true,"text":[{"text":"                    text(format!(\"{}%\", completeness)).size(11)","highlight_start":39,"highlight_end":53}],"label":null,"suggested_replacement":"","suggestion_applicability":"MachineApplicable","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[0m\u001b[1m\u001b[38;5;9merror\u001b[0m\u001b[0m\u001b[1m: variables can be used directly in the `format!` string\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0msrc/ui/components/file_list.rs:39:26\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m39\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m                    text(format!(\"{}%\", completeness)).size(11)\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m                          \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;14mhelp\u001b[0m\u001b[0m: change this to\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m39\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[38;5;9m- \u001b[0m\u001b[0m                    text(format!(\"{}%\"\u001b[0m\u001b[0m\u001b[38;5;9m, completeness\u001b[0m\u001b[0m)).size(11)\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m39\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[38;5;10m+ \u001b[0m\u001b[0m                    text(format!(\"{\u001b[0m\u001b[0m\u001b[38;5;10mcompleteness\u001b[0m\u001b[0m}%\")).size(11)\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"use Option::map_or_else instead of an if let/else","code":{"code":"clippy::option_if_let_else","explanation":null},"level":"error","spans":[{"file_name":"src/ui/components/file_list.rs","byte_start":1617,"byte_end":2027,"line_start":53,"line_end":66,"column_start":5,"column_end":6,"is_primary":true,"text":[{"text":"    match duration_ms {","highlight_start":5,"highlight_end":24},{"text":"        Some(ms) => {","highlight_start":1,"highlight_end":22},{"text":"            let seconds = ms / 1000;","highlight_start":1,"highlight_end":37},{"text":"            let minutes = seconds / 60;","highlight_start":1,"highlight_end":40},{"text":"            let hours = minutes / 60;","highlight_start":1,"highlight_end":38},{"text":"","highlight_start":1,"highlight_end":1},{"text":"            if hours > 0 {","highlight_start":1,"highlight_end":27},{"text":"                format!(\"{}:{:02}:{:02}\", hours, minutes % 60, seconds % 60)","highlight_start":1,"highlight_end":77},{"text":"            } else {","highlight_start":1,"highlight_end":21},{"text":"                format!(\"{}:{:02}\", minutes, seconds % 60)","highlight_start":1,"highlight_end":59},{"text":"            }","highlight_start":1,"highlight_end":14},{"text":"        }","highlight_start":1,"highlight_end":10},{"text":"        None => \"Unknown\".to_string(),","highlight_start":1,"highlight_end":39},{"text":"    }","highlight_start":1,"highlight_end":6}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#option_if_let_else","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"try","code":null,"level":"help","spans":[{"file_name":"src/ui/components/file_list.rs","byte_start":1617,"byte_end":2027,"line_start":53,"line_end":66,"column_start":5,"column_end":6,"is_primary":true,"text":[{"text":"    match duration_ms {","highlight_start":5,"highlight_end":24},{"text":"        Some(ms) => {","highlight_start":1,"highlight_end":22},{"text":"            let seconds = ms / 1000;","highlight_start":1,"highlight_end":37},{"text":"            let minutes = seconds / 60;","highlight_start":1,"highlight_end":40},{"text":"            let hours = minutes / 60;","highlight_start":1,"highlight_end":38},{"text":"","highlight_start":1,"highlight_end":1},{"text":"            if hours > 0 {","highlight_start":1,"highlight_end":27},{"text":"                format!(\"{}:{:02}:{:02}\", hours, minutes % 60, seconds % 60)","highlight_start":1,"highlight_end":77},{"text":"            } else {","highlight_start":1,"highlight_end":21},{"text":"                format!(\"{}:{:02}\", minutes, seconds % 60)","highlight_start":1,"highlight_end":59},{"text":"            }","highlight_start":1,"highlight_end":14},{"text":"        }","highlight_start":1,"highlight_end":10},{"text":"        None => \"Unknown\".to_string(),","highlight_start":1,"highlight_end":39},{"text":"    }","highlight_start":1,"highlight_end":6}],"label":null,"suggested_replacement":"duration_ms.map_or_else(|| \"Unknown\".to_string(), |ms| {\n            let seconds = ms / 1000;\n            let minutes = seconds / 60;\n            let hours = minutes / 60;\n\n            if hours > 0 {\n                format!(\"{}:{:02}:{:02}\", hours, minutes % 60, seconds % 60)\n            } else {\n                format!(\"{}:{:02}\", minutes, seconds % 60)\n            }\n        })","suggestion_applicability":"MaybeIncorrect","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[0m\u001b[1m\u001b[38;5;9merror\u001b[0m\u001b[0m\u001b[1m: use Option::map_or_else instead of an if let/else\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0msrc/ui/components/file_list.rs:53:5\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m53\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m/\u001b[0m\u001b[0m \u001b[0m\u001b[0m    match duration_ms {\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m54\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m        Some(ms) => {\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m55\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m            let seconds = ms / 1000;\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m56\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m            let minutes = seconds / 60;\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m...\u001b[0m\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m65\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m        None => \"Unknown\".to_string(),\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m66\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m    }\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m|_____^\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#option_if_let_else\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;14mhelp\u001b[0m\u001b[0m: try\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m53\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[38;5;10m~ \u001b[0m\u001b[0m    \u001b[0m\u001b[0m\u001b[38;5;10mduration_ms.map_or_else(|| \"Unknown\".to_string(), |ms| {\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m54\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[38;5;10m+             let seconds = ms / 1000;\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m55\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[38;5;10m+             let minutes = seconds / 60;\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m56\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[38;5;10m+             let hours = minutes / 60;\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m57\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[38;5;10m+ \u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m58\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[38;5;10m+             if hours > 0 {\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m59\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[38;5;10m+                 format!(\"{}:{:02}:{:02}\", hours, minutes % 60, seconds % 60)\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m60\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[38;5;10m+             } else {\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m61\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[38;5;10m+                 format!(\"{}:{:02}\", minutes, seconds % 60)\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m62\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[38;5;10m+             }\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m63\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[38;5;10m+         })\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"casting `i64` to `f64` causes a loss of precision (`i64` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)","code":{"code":"clippy::cast_precision_loss","explanation":null},"level":"error","spans":[{"file_name":"src/ui/components/player_controls.rs","byte_start":717,"byte_end":751,"line_start":20,"line_end":20,"column_start":19,"column_end":53,"is_primary":true,"text":[{"text":"            0.0..=state.total_duration.max(1) as f64,","highlight_start":19,"highlight_end":53}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_precision_loss","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"`-D clippy::cast-precision-loss` implied by `-D warnings`","code":null,"level":"note","spans":[],"children":[],"rendered":null},{"message":"to override `-D warnings` add `#[allow(clippy::cast_precision_loss)]`","code":null,"level":"help","spans":[],"children":[],"rendered":null}],"rendered":"\u001b[0m\u001b[1m\u001b[38;5;9merror\u001b[0m\u001b[0m\u001b[1m: casting `i64` to `f64` causes a loss of precision (`i64` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0msrc/ui/components/player_controls.rs:20:19\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m20\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m            0.0..=state.total_duration.max(1) as f64,\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m                   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_precision_loss\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mnote\u001b[0m\u001b[0m: `-D clippy::cast-precision-loss` implied by `-D warnings`\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: to override `-D warnings` add `#[allow(clippy::cast_precision_loss)]`\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"casting `i64` to `f64` causes a loss of precision (`i64` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)","code":{"code":"clippy::cast_precision_loss","explanation":null},"level":"error","spans":[{"file_name":"src/ui/components/player_controls.rs","byte_start":765,"byte_end":816,"line_start":21,"line_end":21,"column_start":13,"column_end":64,"is_primary":true,"text":[{"text":"            state.current_time.min(state.total_duration) as f64,","highlight_start":13,"highlight_end":64}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_precision_loss","code":null,"level":"help","spans":[],"children":[],"rendered":null}],"rendered":"\u001b[0m\u001b[1m\u001b[38;5;9merror\u001b[0m\u001b[0m\u001b[1m: casting `i64` to `f64` causes a loss of precision (`i64` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0msrc/ui/components/player_controls.rs:21:13\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m21\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m            state.current_time.min(state.total_duration) as f64,\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m             \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_precision_loss\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"casting `f64` to `i64` may truncate the value","code":{"code":"clippy::cast_possible_truncation","explanation":null},"level":"error","spans":[{"file_name":"src/ui/components/player_controls.rs","byte_start":852,"byte_end":862,"line_start":22,"line_end":22,"column_start":35,"column_end":45,"is_primary":true,"text":[{"text":"            |val| Message::SeekTo(val as i64)","highlight_start":35,"highlight_end":45}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_possible_truncation","code":null,"level":"help","spans":[],"children":[],"rendered":null}],"rendered":"\u001b[0m\u001b[1m\u001b[38;5;9merror\u001b[0m\u001b[0m\u001b[1m: casting `f64` to `i64` may truncate the value\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0msrc/ui/components/player_controls.rs:22:35\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m22\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m            |val| Message::SeekTo(val as i64)\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m                                   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m^^^^^^^^^^\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_possible_truncation\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"this function could have a `#[must_use]` attribute","code":{"code":"clippy::must_use_candidate","explanation":null},"level":"error","spans":[{"file_name":"src/ui/main_window.rs","byte_start":233,"byte_end":294,"line_start":6,"line_end":6,"column_start":1,"column_end":62,"is_primary":true,"text":[{"text":"pub fn view(state: &NodokaState) -> Element<'static, Message> {","highlight_start":1,"highlight_end":62}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#must_use_candidate","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"add the attribute","code":null,"level":"help","spans":[{"file_name":"src/ui/main_window.rs","byte_start":233,"byte_end":294,"line_start":6,"line_end":6,"column_start":1,"column_end":62,"is_primary":true,"text":[{"text":"pub fn view(state: &NodokaState) -> Element<'static, Message> {","highlight_start":1,"highlight_end":62}],"label":null,"suggested_replacement":"#[must_use] pub fn view(state: &NodokaState) -> Element<'static, Message>","suggestion_applicability":"MachineApplicable","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[0m\u001b[1m\u001b[38;5;9merror\u001b[0m\u001b[0m\u001b[1m: this function could have a `#[must_use]` attribute\u001b[0m\n\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0msrc/ui/main_window.rs:6:1\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m6\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0mpub fn view(state: &NodokaState) -> Element<'static, Message> {\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9mhelp: add the attribute: `#[must_use] pub fn view(state: &NodokaState) -> Element<'static, Message>`\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#must_use_candidate\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"this function could have a `#[must_use]` attribute","code":{"code":"clippy::must_use_candidate","explanation":null},"level":"error","spans":[{"file_name":"src/ui/settings_form.rs","byte_start":157,"byte_end":235,"line_start":5,"line_end":5,"column_start":1,"column_end":79,"is_primary":true,"text":[{"text":"pub fn build_settings_dialog(state: &NodokaState) -> Element<'static, Message> {","highlight_start":1,"highlight_end":79}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#must_use_candidate","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"add the attribute","code":null,"level":"help","spans":[{"file_name":"src/ui/settings_form.rs","byte_start":157,"byte_end":235,"line_start":5,"line_end":5,"column_start":1,"column_end":79,"is_primary":true,"text":[{"text":"pub fn build_settings_dialog(state: &NodokaState) -> Element<'static, Message> {","highlight_start":1,"highlight_end":79}],"label":null,"suggested_replacement":"#[must_use] pub fn build_settings_dialog(state: &NodokaState) -> Element<'static, Message>","suggestion_applicability":"MachineApplicable","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[0m\u001b[1m\u001b[38;5;9merror\u001b[0m\u001b[0m\u001b[1m: this function could have a `#[must_use]` attribute\u001b[0m\n\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0msrc/ui/settings_form.rs:5:1\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m5\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0mpub fn build_settings_dialog(state: &NodokaState) -> Element<'static, Message> {\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9mhelp: add the attribute: `#[must_use] pub fn build_settings_dialog(state: &NodokaState) -> Element<'static, Message>`\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#must_use_candidate\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"the function has a cognitive complexity of (47/30)","code":{"code":"clippy::cognitive_complexity","explanation":null},"level":"error","spans":[{"file_name":"src/ui/update.rs","byte_start":147,"byte_end":153,"line_start":7,"line_end":7,"column_start":8,"column_end":14,"is_primary":true,"text":[{"text":"pub fn update(","highlight_start":8,"highlight_end":14}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"you could split it up into multiple smaller functions","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cognitive_complexity","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"`-D clippy::cognitive-complexity` implied by `-D warnings`","code":null,"level":"note","spans":[],"children":[],"rendered":null},{"message":"to override `-D warnings` add `#[allow(clippy::cognitive_complexity)]`","code":null,"level":"help","spans":[],"children":[],"rendered":null}],"rendered":"\u001b[0m\u001b[1m\u001b[38;5;9merror\u001b[0m\u001b[0m\u001b[1m: the function has a cognitive complexity of (47/30)\u001b[0m\n\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0msrc/ui/update.rs:7:8\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m7\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0mpub fn update(\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m        \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m^^^^^^\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: you could split it up into multiple smaller functions\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cognitive_complexity\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mnote\u001b[0m\u001b[0m: `-D clippy::cognitive-complexity` implied by `-D warnings`\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: to override `-D warnings` add `#[allow(clippy::cognitive_complexity)]`\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"this function has too many lines (188/100)","code":{"code":"clippy::too_many_lines","explanation":null},"level":"error","spans":[{"file_name":"src/ui/update.rs","byte_start":140,"byte_end":8295,"line_start":7,"line_end":246,"column_start":1,"column_end":2,"is_primary":true,"text":[{"text":"pub fn update(","highlight_start":1,"highlight_end":15},{"text":"    state: &mut NodokaState,","highlight_start":1,"highlight_end":29},{"text":"    message: Message,","highlight_start":1,"highlight_end":22},{"text":"    player: &mut Option<ConcretePlayer>,","highlight_start":1,"highlight_end":41},{"text":"    db: &Database,","highlight_start":1,"highlight_end":19},{"text":") -> Command<Message> {","highlight_start":1,"highlight_end":24},{"text":"    match message {","highlight_start":1,"highlight_end":20},{"text":"        Message::PlayPause => {","highlight_start":1,"highlight_end":32},{"text":"            if let Some(ref mut p) = player {","highlight_start":1,"highlight_end":46},{"text":"                if state.is_playing {","highlight_start":1,"highlight_end":38},{"text":"                    if let Err(e) = p.pause() {","highlight_start":1,"highlight_end":48},{"text":"                        tracing::error!(\"Failed to pause: {e}\");","highlight_start":1,"highlight_end":65},{"text":"                    }","highlight_start":1,"highlight_end":22},{"text":"                } else if let Err(e) = p.play() {","highlight_start":1,"highlight_end":50},{"text":"                    tracing::error!(\"Failed to play: {e}\");","highlight_start":1,"highlight_end":60},{"text":"                }","highlight_start":1,"highlight_end":18},{"text":"                state.is_playing = !state.is_playing;","highlight_start":1,"highlight_end":54},{"text":"            }","highlight_start":1,"highlight_end":14},{"text":"            Command::none()","highlight_start":1,"highlight_end":28},{"text":"        }","highlight_start":1,"highlight_end":10},{"text":"","highlight_start":1,"highlight_end":1},{"text":"        Message::Stop => {","highlight_start":1,"highlight_end":27},{"text":"            if let Some(ref mut p) = player {","highlight_start":1,"highlight_end":46},{"text":"                if let Err(e) = p.stop() {","highlight_start":1,"highlight_end":43},{"text":"                    tracing::error!(\"Failed to stop: {e}\");","highlight_start":1,"highlight_end":60},{"text":"                }","highlight_start":1,"highlight_end":18},{"text":"                state.is_playing = false;","highlight_start":1,"highlight_end":42},{"text":"                state.current_time = 0;","highlight_start":1,"highlight_end":40},{"text":"            }","highlight_start":1,"highlight_end":14},{"text":"            Command::none()","highlight_start":1,"highlight_end":28},{"text":"        }","highlight_start":1,"highlight_end":10},{"text":"","highlight_start":1,"highlight_end":1},{"text":"        Message::SeekTo(position) => {","highlight_start":1,"highlight_end":39},{"text":"            if let Some(ref mut p) = player {","highlight_start":1,"highlight_end":46},{"text":"                if let Err(e) = p.set_time(position) {","highlight_start":1,"highlight_end":55},{"text":"                    tracing::error!(\"Failed to seek: {e}\");","highlight_start":1,"highlight_end":60},{"text":"                } else {","highlight_start":1,"highlight_end":25},{"text":"                    state.current_time = position;","highlight_start":1,"highlight_end":51},{"text":"                }","highlight_start":1,"highlight_end":18},{"text":"            }","highlight_start":1,"highlight_end":14},{"text":"            Command::none()","highlight_start":1,"highlight_end":28},{"text":"        }","highlight_start":1,"highlight_end":10},{"text":"","highlight_start":1,"highlight_end":1},{"text":"        Message::VolumeChanged(volume) => {","highlight_start":1,"highlight_end":44},{"text":"            if let Some(ref mut p) = player {","highlight_start":1,"highlight_end":46},{"text":"                if let Err(e) = p.set_volume(volume) {","highlight_start":1,"highlight_end":55},{"text":"                    tracing::error!(\"Failed to set volume: {e}\");","highlight_start":1,"highlight_end":66},{"text":"                }","highlight_start":1,"highlight_end":18},{"text":"                state.volume = volume;","highlight_start":1,"highlight_end":39},{"text":"                ","highlight_start":1,"highlight_end":17},{"text":"                // Save to settings","highlight_start":1,"highlight_end":36},{"text":"                if let Err(e) = crate::db::queries::set_metadata(","highlight_start":1,"highlight_end":66},{"text":"                    db.connection(),","highlight_start":1,"highlight_end":37},{"text":"                    \"volume\",","highlight_start":1,"highlight_end":30},{"text":"                    &volume.to_string(),","highlight_start":1,"highlight_end":41},{"text":"                ) {","highlight_start":1,"highlight_end":20},{"text":"                    tracing::error!(\"Failed to save volume setting: {e}\");","highlight_start":1,"highlight_end":75},{"text":"                }","highlight_start":1,"highlight_end":18},{"text":"            }","highlight_start":1,"highlight_end":14},{"text":"            Command::none()","highlight_start":1,"highlight_end":28},{"text":"        }","highlight_start":1,"highlight_end":10},{"text":"","highlight_start":1,"highlight_end":1},{"text":"        Message::SpeedChanged(speed) => {","highlight_start":1,"highlight_end":42},{"text":"            if let Some(ref mut p) = player {","highlight_start":1,"highlight_end":46},{"text":"                if let Err(e) = p.set_rate(speed) {","highlight_start":1,"highlight_end":52},{"text":"                    tracing::error!(\"Failed to set speed: {e}\");","highlight_start":1,"highlight_end":65},{"text":"                }","highlight_start":1,"highlight_end":18},{"text":"                state.speed = speed;","highlight_start":1,"highlight_end":37},{"text":"                ","highlight_start":1,"highlight_end":17},{"text":"                // Save to settings","highlight_start":1,"highlight_end":36},{"text":"                if let Err(e) = crate::db::queries::set_metadata(","highlight_start":1,"highlight_end":66},{"text":"                    db.connection(),","highlight_start":1,"highlight_end":37},{"text":"                    \"speed\",","highlight_start":1,"highlight_end":29},{"text":"                    &speed.to_string(),","highlight_start":1,"highlight_end":40},{"text":"                ) {","highlight_start":1,"highlight_end":20},{"text":"                    tracing::error!(\"Failed to save speed setting: {e}\");","highlight_start":1,"highlight_end":74},{"text":"                }","highlight_start":1,"highlight_end":18},{"text":"            }","highlight_start":1,"highlight_end":14},{"text":"            Command::none()","highlight_start":1,"highlight_end":28},{"text":"        }","highlight_start":1,"highlight_end":10},{"text":"","highlight_start":1,"highlight_end":1},{"text":"        Message::AudiobookSelected(id) => {","highlight_start":1,"highlight_end":44},{"text":"            state.selected_audiobook = Some(id);","highlight_start":1,"highlight_end":49},{"text":"            ","highlight_start":1,"highlight_end":13},{"text":"            // Load files for this audiobook","highlight_start":1,"highlight_end":45},{"text":"            match crate::db::queries::get_audiobook_files(db.connection(), id) {","highlight_start":1,"highlight_end":81},{"text":"                Ok(files) => {","highlight_start":1,"highlight_end":31},{"text":"                    state.current_files = files;","highlight_start":1,"highlight_end":49},{"text":"                }","highlight_start":1,"highlight_end":18},{"text":"                Err(e) => {","highlight_start":1,"highlight_end":28},{"text":"                    tracing::error!(\"Failed to load audiobook files: {e}\");","highlight_start":1,"highlight_end":76},{"text":"                }","highlight_start":1,"highlight_end":18},{"text":"            }","highlight_start":1,"highlight_end":14},{"text":"            ","highlight_start":1,"highlight_end":13},{"text":"            // Save selected audiobook","highlight_start":1,"highlight_end":39},{"text":"            if let Err(e) = crate::db::queries::set_metadata(","highlight_start":1,"highlight_end":62},{"text":"                db.connection(),","highlight_start":1,"highlight_end":33},{"text":"                \"current_audiobook_id\",","highlight_start":1,"highlight_end":40},{"text":"                &id.to_string(),","highlight_start":1,"highlight_end":33},{"text":"            ) {","highlight_start":1,"highlight_end":16},{"text":"                tracing::error!(\"Failed to save current audiobook: {e}\");","highlight_start":1,"highlight_end":74},{"text":"            }","highlight_start":1,"highlight_end":14},{"text":"            ","highlight_start":1,"highlight_end":13},{"text":"            Command::none()","highlight_start":1,"highlight_end":28},{"text":"        }","highlight_start":1,"highlight_end":10},{"text":"","highlight_start":1,"highlight_end":1},{"text":"        Message::FileSelected(path) => {","highlight_start":1,"highlight_end":41},{"text":"            state.selected_file = Some(path.clone());","highlight_start":1,"highlight_end":54},{"text":"            ","highlight_start":1,"highlight_end":13},{"text":"            if let Some(ref mut p) = player {","highlight_start":1,"highlight_end":46},{"text":"                if let Err(e) = p.load_media(Path::new(&path)) {","highlight_start":1,"highlight_end":65},{"text":"                    tracing::error!(\"Failed to load media: {e}\");","highlight_start":1,"highlight_end":66},{"text":"                } else {","highlight_start":1,"highlight_end":25},{"text":"                    // Get duration from player","highlight_start":1,"highlight_end":48},{"text":"                    if let Ok(duration) = p.get_length() {","highlight_start":1,"highlight_end":59},{"text":"                        state.total_duration = duration;","highlight_start":1,"highlight_end":57},{"text":"                    }","highlight_start":1,"highlight_end":22},{"text":"                    ","highlight_start":1,"highlight_end":21},{"text":"                    // Auto-play","highlight_start":1,"highlight_end":33},{"text":"                    if let Err(e) = p.play() {","highlight_start":1,"highlight_end":47},{"text":"                        tracing::error!(\"Failed to auto-play: {e}\");","highlight_start":1,"highlight_end":69},{"text":"                    } else {","highlight_start":1,"highlight_end":29},{"text":"                        state.is_playing = true;","highlight_start":1,"highlight_end":49},{"text":"                    }","highlight_start":1,"highlight_end":22},{"text":"                }","highlight_start":1,"highlight_end":18},{"text":"            }","highlight_start":1,"highlight_end":14},{"text":"            ","highlight_start":1,"highlight_end":13},{"text":"            Command::none()","highlight_start":1,"highlight_end":28},{"text":"        }","highlight_start":1,"highlight_end":10},{"text":"","highlight_start":1,"highlight_end":1},{"text":"        Message::DirectoryAdd => {","highlight_start":1,"highlight_end":35},{"text":"            Command::perform(","highlight_start":1,"highlight_end":30},{"text":"                async {","highlight_start":1,"highlight_end":24},{"text":"                    rfd::AsyncFileDialog::new()","highlight_start":1,"highlight_end":48},{"text":"                        .pick_folder()","highlight_start":1,"highlight_end":39},{"text":"                        .await","highlight_start":1,"highlight_end":31},{"text":"                        .map(|handle| handle.path().to_string_lossy().to_string())","highlight_start":1,"highlight_end":83},{"text":"                },","highlight_start":1,"highlight_end":19},{"text":"                |result| match result {","highlight_start":1,"highlight_end":40},{"text":"                    Some(path) => Message::DirectoryAdded(path),","highlight_start":1,"highlight_end":65},{"text":"                    None => Message::DirectoryAddCancelled,","highlight_start":1,"highlight_end":60},{"text":"                },","highlight_start":1,"highlight_end":19},{"text":"            )","highlight_start":1,"highlight_end":14},{"text":"        }","highlight_start":1,"highlight_end":10},{"text":"","highlight_start":1,"highlight_end":1},{"text":"        Message::DirectoryAdded(path) => {","highlight_start":1,"highlight_end":43},{"text":"            let directory = crate::models::Directory {","highlight_start":1,"highlight_end":55},{"text":"                full_path: path.clone(),","highlight_start":1,"highlight_end":41},{"text":"                created_at: chrono::Utc::now(),","highlight_start":1,"highlight_end":48},{"text":"                last_scanned: None,","highlight_start":1,"highlight_end":36},{"text":"            };","highlight_start":1,"highlight_end":15},{"text":"            ","highlight_start":1,"highlight_end":13},{"text":"            if let Err(e) = crate::db::queries::insert_directory(db.connection(), &directory) {","highlight_start":1,"highlight_end":96},{"text":"                tracing::error!(\"Failed to insert directory: {e}\");","highlight_start":1,"highlight_end":68},{"text":"                return Command::none();","highlight_start":1,"highlight_end":40},{"text":"            }","highlight_start":1,"highlight_end":14},{"text":"            ","highlight_start":1,"highlight_end":13},{"text":"            state.directories.push(directory);","highlight_start":1,"highlight_end":47},{"text":"            ","highlight_start":1,"highlight_end":13},{"text":"            // Note: Directory scanning would be triggered here but requires database access","highlight_start":1,"highlight_end":93},{"text":"            // For now, we skip the async scan since Database is not Clone","highlight_start":1,"highlight_end":75},{"text":"            tracing::info!(\"Directory added: {path}. Manual rescan recommended.\");","highlight_start":1,"highlight_end":83},{"text":"            ","highlight_start":1,"highlight_end":13},{"text":"            Command::none()","highlight_start":1,"highlight_end":28},{"text":"        }","highlight_start":1,"highlight_end":10},{"text":"","highlight_start":1,"highlight_end":1},{"text":"        Message::DirectoryRemove(path) => {","highlight_start":1,"highlight_end":44},{"text":"            if let Err(e) = crate::db::queries::delete_directory(db.connection(), &path) {","highlight_start":1,"highlight_end":91},{"text":"                tracing::error!(\"Failed to delete directory: {e}\");","highlight_start":1,"highlight_end":68},{"text":"            } else {","highlight_start":1,"highlight_end":21},{"text":"                state.directories.retain(|d| d.full_path != path);","highlight_start":1,"highlight_end":67},{"text":"                state.audiobooks.retain(|a| a.directory != path);","highlight_start":1,"highlight_end":66},{"text":"            }","highlight_start":1,"highlight_end":14},{"text":"            Command::none()","highlight_start":1,"highlight_end":28},{"text":"        }","highlight_start":1,"highlight_end":10},{"text":"","highlight_start":1,"highlight_end":1},{"text":"        Message::DirectoryRescan(_path) => {","highlight_start":1,"highlight_end":45},{"text":"            // Note: Rescanning would require async access to database","highlight_start":1,"highlight_end":71},{"text":"            // For now, we skip this operation since Database is not Clone","highlight_start":1,"highlight_end":75},{"text":"            tracing::info!(\"Directory rescan requested but not implemented in this version\");","highlight_start":1,"highlight_end":94},{"text":"            Command::none()","highlight_start":1,"highlight_end":28},{"text":"        }","highlight_start":1,"highlight_end":10},{"text":"","highlight_start":1,"highlight_end":1},{"text":"        Message::OpenSettings => {","highlight_start":1,"highlight_end":35},{"text":"            state.settings_open = true;","highlight_start":1,"highlight_end":40},{"text":"            Command::none()","highlight_start":1,"highlight_end":28},{"text":"        }","highlight_start":1,"highlight_end":10},{"text":"","highlight_start":1,"highlight_end":1},{"text":"        Message::CloseSettings => {","highlight_start":1,"highlight_end":36},{"text":"            state.settings_open = false;","highlight_start":1,"highlight_end":41},{"text":"            Command::none()","highlight_start":1,"highlight_end":28},{"text":"        }","highlight_start":1,"highlight_end":10},{"text":"","highlight_start":1,"highlight_end":1},{"text":"        Message::ScanComplete(new_audiobooks) => {","highlight_start":1,"highlight_end":51},{"text":"            for audiobook in new_audiobooks {","highlight_start":1,"highlight_end":46},{"text":"                // Check if audiobook already exists","highlight_start":1,"highlight_end":53},{"text":"                let exists = state.audiobooks.iter().any(|a| a.full_path == audiobook.full_path);","highlight_start":1,"highlight_end":98},{"text":"                ","highlight_start":1,"highlight_end":17},{"text":"                if !exists {","highlight_start":1,"highlight_end":29},{"text":"                    state.audiobooks.push(audiobook);","highlight_start":1,"highlight_end":54},{"text":"                }","highlight_start":1,"highlight_end":18},{"text":"            }","highlight_start":1,"highlight_end":14},{"text":"            Command::none()","highlight_start":1,"highlight_end":28},{"text":"        }","highlight_start":1,"highlight_end":10},{"text":"","highlight_start":1,"highlight_end":1},{"text":"        Message::ScanError(error) => {","highlight_start":1,"highlight_end":39},{"text":"            tracing::error!(\"Scan error: {error}\");","highlight_start":1,"highlight_end":52},{"text":"            Command::none()","highlight_start":1,"highlight_end":28},{"text":"        }","highlight_start":1,"highlight_end":10},{"text":"","highlight_start":1,"highlight_end":1},{"text":"        Message::InitialLoadComplete => {","highlight_start":1,"highlight_end":42},{"text":"            state.is_loading = false;","highlight_start":1,"highlight_end":38},{"text":"            Command::none()","highlight_start":1,"highlight_end":28},{"text":"        }","highlight_start":1,"highlight_end":10},{"text":"","highlight_start":1,"highlight_end":1},{"text":"        Message::PlayerTimeUpdated(time) => {","highlight_start":1,"highlight_end":46},{"text":"            state.current_time = time;","highlight_start":1,"highlight_end":39},{"text":"            ","highlight_start":1,"highlight_end":13},{"text":"            // Update progress in database","highlight_start":1,"highlight_end":43},{"text":"            if let Some(ref file_path) = state.selected_file {","highlight_start":1,"highlight_end":63},{"text":"                if state.total_duration > 0 {","highlight_start":1,"highlight_end":46},{"text":"                    let completeness = ((time * 100) / state.total_duration) as i32;","highlight_start":1,"highlight_end":85},{"text":"                    ","highlight_start":1,"highlight_end":21},{"text":"                    if let Err(e) = crate::db::queries::update_file_progress(","highlight_start":1,"highlight_end":78},{"text":"                        db.connection(),","highlight_start":1,"highlight_end":41},{"text":"                        file_path,","highlight_start":1,"highlight_end":35},{"text":"                        time,","highlight_start":1,"highlight_end":30},{"text":"                        completeness,","highlight_start":1,"highlight_end":38},{"text":"                    ) {","highlight_start":1,"highlight_end":24},{"text":"                        tracing::error!(\"Failed to update file progress: {e}\");","highlight_start":1,"highlight_end":80},{"text":"                    }","highlight_start":1,"highlight_end":22},{"text":"                }","highlight_start":1,"highlight_end":18},{"text":"            }","highlight_start":1,"highlight_end":14},{"text":"            ","highlight_start":1,"highlight_end":13},{"text":"            Command::none()","highlight_start":1,"highlight_end":28},{"text":"        }","highlight_start":1,"highlight_end":10},{"text":"","highlight_start":1,"highlight_end":1},{"text":"        _ => Command::none(),","highlight_start":1,"highlight_end":30},{"text":"    }","highlight_start":1,"highlight_end":6},{"text":"}","highlight_start":1,"highlight_end":2}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#too_many_lines","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"`-D clippy::too-many-lines` implied by `-D warnings`","code":null,"level":"note","spans":[],"children":[],"rendered":null},{"message":"to override `-D warnings` add `#[allow(clippy::too_many_lines)]`","code":null,"level":"help","spans":[],"children":[],"rendered":null}],"rendered":"\u001b[0m\u001b[1m\u001b[38;5;9merror\u001b[0m\u001b[0m\u001b[1m: this function has too many lines (188/100)\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0msrc/ui/update.rs:7:1\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m7\u001b[0m\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m/\u001b[0m\u001b[0m \u001b[0m\u001b[0mpub fn update(\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m8\u001b[0m\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m    state: &mut NodokaState,\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m9\u001b[0m\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m    message: Message,\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m10\u001b[0m\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m    player: &mut Option<ConcretePlayer>,\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m...\u001b[0m\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m245\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m    }\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m246\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m}\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m|_^\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#too_many_lines\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mnote\u001b[0m\u001b[0m: `-D clippy::too-many-lines` implied by `-D warnings`\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: to override `-D warnings` add `#[allow(clippy::too_many_lines)]`\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"use Option::map_or instead of an if let/else","code":{"code":"clippy::option_if_let_else","explanation":null},"level":"error","spans":[{"file_name":"src/ui/update.rs","byte_start":4809,"byte_end":4966,"line_start":145,"line_end":148,"column_start":26,"column_end":18,"is_primary":true,"text":[{"text":"                |result| match result {","highlight_start":26,"highlight_end":40},{"text":"                    Some(path) => Message::DirectoryAdded(path),","highlight_start":1,"highlight_end":65},{"text":"                    None => Message::DirectoryAddCancelled,","highlight_start":1,"highlight_end":60},{"text":"                },","highlight_start":1,"highlight_end":18}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#option_if_let_else","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"try","code":null,"level":"help","spans":[{"file_name":"src/ui/update.rs","byte_start":4809,"byte_end":4966,"line_start":145,"line_end":148,"column_start":26,"column_end":18,"is_primary":true,"text":[{"text":"                |result| match result {","highlight_start":26,"highlight_end":40},{"text":"                    Some(path) => Message::DirectoryAdded(path),","highlight_start":1,"highlight_end":65},{"text":"                    None => Message::DirectoryAddCancelled,","highlight_start":1,"highlight_end":60},{"text":"                },","highlight_start":1,"highlight_end":18}],"label":null,"suggested_replacement":"result.map_or(Message::DirectoryAddCancelled, |path| Message::DirectoryAdded(path))","suggestion_applicability":"MaybeIncorrect","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[0m\u001b[1m\u001b[38;5;9merror\u001b[0m\u001b[0m\u001b[1m: use Option::map_or instead of an if let/else\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0msrc/ui/update.rs:145:26\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m145\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m   \u001b[0m\u001b[0m                |result| match result {\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m__________________________^\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m146\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m                    Some(path) => Message::DirectoryAdded(path),\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m147\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m                    None => Message::DirectoryAddCancelled,\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m148\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m                },\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m|_________________^\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9mhelp: try: `result.map_or(Message::DirectoryAddCancelled, |path| Message::DirectoryAdded(path))`\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#option_if_let_else\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"casting `i64` to `i32` may truncate the value","code":{"code":"clippy::cast_possible_truncation","explanation":null},"level":"error","spans":[{"file_name":"src/ui/update.rs","byte_start":7759,"byte_end":7803,"line_start":228,"line_end":228,"column_start":40,"column_end":84,"is_primary":true,"text":[{"text":"                    let completeness = ((time * 100) / state.total_duration) as i32;","highlight_start":40,"highlight_end":84}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_possible_truncation","code":null,"level":"help","spans":[],"children":[],"rendered":null},{"message":"... or use `try_from` and handle the error accordingly","code":null,"level":"help","spans":[{"file_name":"src/ui/update.rs","byte_start":7759,"byte_end":7803,"line_start":228,"line_end":228,"column_start":40,"column_end":84,"is_primary":true,"text":[{"text":"                    let completeness = ((time * 100) / state.total_duration) as i32;","highlight_start":40,"highlight_end":84}],"label":null,"suggested_replacement":"i32::try_from((time * 100) / state.total_duration)","suggestion_applicability":"Unspecified","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[0m\u001b[1m\u001b[38;5;9merror\u001b[0m\u001b[0m\u001b[1m: casting `i64` to `i32` may truncate the value\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0msrc/ui/update.rs:228:40\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m228\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m                    let completeness = ((time * 100) / state.total_duration) as i32;\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m                                        \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;9m^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_possible_truncation\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;14mhelp\u001b[0m\u001b[0m: ... or use `try_from` and handle the error accordingly\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m228\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m| \u001b[0m\u001b[0m                    let completeness = \u001b[0m\u001b[0m\u001b[38;5;10mi32::try_from((time * 100) / state.total_duration)\u001b[0m\u001b[0m;\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m                                        \u001b[0m\u001b[0m\u001b[38;5;10m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"aborting due to 55 previous errors","code":null,"level":"error","spans":[],"children":[],"rendered":"\u001b[0m\u001b[1m\u001b[38;5;9merror\u001b[0m\u001b[0m\u001b[1m: aborting due to 55 previous errors\u001b[0m\n\n"}
